<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Anexo I. Sistemas de control de versiones. Git - DAW DOCS</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Anexo I. Sistemas de control de versiones. Git | DAW DOCS</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="Anexo I. Sistemas de control de versiones. Git" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Apuntes del módulo de “Desarrollo web en entorno servidor”, de 2º curso del Ciclo Formativo de Grado Superior de “Desarrollo de Aplicaciones Web”, impartido en el IES Celia Viñas de Almería (España)" /> <meta property="og:description" content="Apuntes del módulo de “Desarrollo web en entorno servidor”, de 2º curso del Ciclo Formativo de Grado Superior de “Desarrollo de Aplicaciones Web”, impartido en el IES Celia Viñas de Almería (España)" /> <link rel="canonical" href="/scv-git/" /> <meta property="og:url" content="/scv-git/" /> <meta property="og:site_name" content="DAW DOCS" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Anexo I. Sistemas de control de versiones. Git" /> <script type="application/ld+json"> {"@type":"WebPage","url":"/scv-git/","headline":"Anexo I. Sistemas de control de versiones. Git","description":"Apuntes del módulo de “Desarrollo web en entorno servidor”, de 2º curso del Ciclo Formativo de Grado Superior de “Desarrollo de Aplicaciones Web”, impartido en el IES Celia Viñas de Almería (España)","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> DAW DOCS </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/" class="nav-list-link">Desarrollo Web en Entorno Servidor</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/cms/" class="nav-list-link">1 Sistemas gestores de contenido (CMS)</a><ul class="nav-list"><li class="nav-list-item "> <a href="/cms/algunas-cosas-que-debes-saber" class="nav-list-link">1.1 Algunas cosas que debes saber sobre los CMS</a> </li><li class="nav-list-item "> <a href="/cms/wordpress" class="nav-list-link">1.2 Wordpress</a> </li><li class="nav-list-item "> <a href="/cms/moodle" class="nav-list-link">1.3 Moodle</a> </li><li class="nav-list-item "> <a href="/cms/prestashop" class="nav-list-link">1.4 Prestashop</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/php/" class="nav-list-link">2 Introducción a PHP</a><ul class="nav-list"><li class="nav-list-item "> <a href="/php/programacion-cliente-servidor" class="nav-list-link">2.1 Programación cliente-servidor</a> </li><li class="nav-list-item "> <a href="/php/caja-de-herramientas" class="nav-list-link">2.2 Caja de herramientas</a> </li><li class="nav-list-item "> <a href="/php/sintaxis-de-php" class="nav-list-link">2.3 Sintaxis de PHP</a> </li><li class="nav-list-item "> <a href="/php/interaccion-con-php" class="nav-list-link">2.4 Interacción con la base de datos</a> </li><li class="nav-list-item "> <a href="/php/ejercicios-resueltos" class="nav-list-link">2.5 Ejercicios resueltos</a> </li></ul></li><li class="nav-list-item "><a href="/cookies-sesiones-seguridad/" class="nav-list-link">3 Cookies, sesiones y seguridad</a></li><li class="nav-list-item "><a href="/mvc/" class="nav-list-link">4 Arquitectura MVC</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/laravel/" class="nav-list-link">5 Laravel</a><ul class="nav-list"><li class="nav-list-item "> <a href="/laravel/1" class="nav-list-link">5.1 Frameworks PHP MVC</a> </li><li class="nav-list-item "> <a href="/laravel/2" class="nav-list-link">5.2 Características de Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/3" class="nav-list-link">5.3 Instalación de Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/4" class="nav-list-link">5.4 Arquitectura, convenciones y configuración de Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/5" class="nav-list-link">5.5 Artisan</a> </li><li class="nav-list-item "> <a href="/laravel/6" class="nav-list-link">5.6 Primeros pasos con Laravel. Hola mundo</a> </li><li class="nav-list-item "> <a href="/laravel/7" class="nav-list-link">5.7 Enrutamiento</a> </li><li class="nav-list-item "> <a href="/laravel/8" class="nav-list-link">5.8 Vistas y plantillas. Blade</a> </li><li class="nav-list-item "> <a href="/laravel/9" class="nav-list-link">5.9 Controladores</a> </li><li class="nav-list-item "> <a href="/laravel/10" class="nav-list-link">5.10 Migraciones</a> </li><li class="nav-list-item "> <a href="/laravel/11" class="nav-list-link">5.11 Usando la BD con Eloquent</a> </li><li class="nav-list-item "> <a href="/laravel/12" class="nav-list-link">5.12 Usando la BD con QueryBuilder</a> </li><li class="nav-list-item "> <a href="/laravel/13" class="nav-list-link">5.13 Sesiones con Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/14" class="nav-list-link">5.14 Helpers de Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/15" class="nav-list-link">5.15 Flujo de trabajo típico con Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/16" class="nav-list-link">5.16 Laravel y Vue.js</a> </li><li class="nav-list-item "> <a href="/laravel/17" class="nav-list-link">5.17 Aspectos avanzados de Laravel</a> </li></ul></li><li class="nav-list-item "><a href="/servicios-web/" class="nav-list-link">6 Servicios web</a></li><li class="nav-list-item "><a href="/ajax/" class="nav-list-link">7 Ajax</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/otras-tecnologias/" class="nav-list-link">8 Otras tecnologías</a><ul class="nav-list"><li class="nav-list-item "> <a href="/otros/cgi" class="nav-list-link">8.1 CGI</a> </li><li class="nav-list-item "> <a href="/otros/perl" class="nav-list-link">8.2 Perl</a> </li><li class="nav-list-item "> <a href="/otros/python" class="nav-list-link">8.3 Python</a> </li><li class="nav-list-item "> <a href="/otros/.net" class="nav-list-link">8.4 .NET</a> </li><li class="nav-list-item "> <a href="/otros/jsp" class="nav-list-link">8.5 JSP</a> </li><li class="nav-list-item "> <a href="/otros/ruby" class="nav-list-link">8.6 Ruby</a> </li><li class="nav-list-item "> <a href="/otros/nodejs" class="nav-list-link">8.7 NodeJS</a> </li><li class="nav-list-item "> <a href="/otros/mas-tecnologias-aun" class="nav-list-link">8.8 Más tecnologías aún</a> </li></ul></li><li class="nav-list-item active"><a href="/scv-git/" class="nav-list-link active">Anexo I. Sistemas de control de versiones. Git</a></li></ul></li><li class="nav-list-item"><a href="/about/" class="nav-list-link">About</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search DAW DOCS" aria-label="Search DAW DOCS" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/">Desarrollo Web en Entorno Servidor</a></li> <li class="breadcrumb-nav-list-item"><span>Anexo I. Sistemas de control de versiones. Git</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="81-sistemas-de-control-de-versiones"> <a href="#81-sistemas-de-control-de-versiones" class="anchor-heading" aria-labelledby="81-sistemas-de-control-de-versiones"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.1. Sistemas de control de versiones </h1> <p>Es inconcebible que un desarrollador trabaje en la actualidad sin un sistema de control de versiones.</p> <p>Fíjate que en la frase anterior no tiene cabida tu opinión. Lo siento, pero es lo que hay. No importa si te gustan estos sistemas o no. No importa si estás los usas de forma habitual o siempre has huido de ellos como de la peste. No importa si ni siquiera sabes qué son o cómo funcionan. Si quieres dedicarte profesionalmente al desarrollo de software, tienes que conocerlos porque te los vas a encontrar vayas donde vayas.</p> <h2 id="811-qué-es-un-sistema-de-control-de-versiones"> <a href="#811-qué-es-un-sistema-de-control-de-versiones" class="anchor-heading" aria-labelledby="811-qué-es-un-sistema-de-control-de-versiones"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.1.1. ¿Qué es un sistema de control de versiones? </h2> <p>Un sistema de control de versiones es un almacén en la nube pensado para equipos de desarrollo de software.</p> <p>Es decir, es como un Google Drive con esteroides.</p> <p>El sistema de control de versiones no solo sirve para que un puñado de usuarios (entre uno y miles) suban su código fuente a la nube para ponerlo a salvo de posibles problemas con las máquinas locales, sino que, además, permite:</p> <ul> <li>Conservar absolutamente todo el historial de versiones previas.</li> <li>Documentar cada cambio, de manera que siempre sea posible saber quién, cómo, dónde, cuándo y por qué escribió cada línea de código.</li> <li>Revertir el estado del software a un estado anterior en cualquier momento.</li> <li>Crear ramas o “estados alternativos” del software, que luego podrán fusionarse con otras ramas o abandonarse sin llegar a nada.</li> <li>Crear “forks” o réplicas del sistema que luego podrán evolucionar de forma independiente (o volver a fusionarse con el contenido original).</li> <li>Evitar conflictos cuando el mismo código fuente ha sido editado simultánemente por dos personas. Y, en caso de que estos conflictos ocurran, ayudar a resolverlos.</li> </ul> <p>Se trata de un buen puñado de funciones, ¿verdad? Ese es el motivo por el que absolutamente todas las organizaciones serias que se dedican a desarrollar software utilizan algún sistema de control de versiones.</p> <p>Pero es que incluso para un programador/a solitario, que trabaja de forma autónoma, las ventajas de usar uno de estos sistemas superan de lejos a los inconvenientes, porque… espera un momento… ¡Resulta que no tienen ningún inconveniente!</p> <p>Así que ya lo sabes: si aún no los usas, este es el momento de hacer un esfuerzo e incorporar un sistema de control de versiones a tu vida.</p> <h2 id="812-cómo-funcionan-los-sistemas-de-control-de-versiones"> <a href="#812-cómo-funcionan-los-sistemas-de-control-de-versiones" class="anchor-heading" aria-labelledby="812-cómo-funcionan-los-sistemas-de-control-de-versiones"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.1.2. ¿Cómo funcionan los sistemas de control de versiones? </h2> <p>Existen muchos sistemas de control de versiones, aunque el mercado está dominado por unos pocos de ellos (CVS, Subversion, Mercurial, Bazaar y, sobre todo, Git). Cada uno tiene sus propias peculiaridades, pero suelen compartir varias características comunes:</p> <ul> <li>El código fuente del proyecto (y todas sus versiones previas) se guarda en un servidor. Esa colección de código fuente se denomina <strong><em>repositorio</em></strong>. El servidor puede estar en Internet y pertenecer a una compañía externa, o puede estar en nuestra intranet, instalado en una de nuestras máquinas.</li> <li>Los repositorios pueden ser remotos (si están en otra máquina distinta de la nuestra) o locales (si están en nuestra máquina).</li> <li>Cuando trabajamos, lo hacemos sobre nuestro repositorio local. Cuando una funcionalidad del código se termina, el código fuente modificado se sube al repositorio remoto, para que el resto de miembros del equipo puedan disponer de él.</li> <li>Si otra persona del equipo ha modificado los mismos archivos fuente que nosotros, el sistema de control de versiones no avisará durante la sincronización con el repositorio remoto y nos obligará a hacer manualmente una fusión de los archivos afectados, mostrándonos las diferentes versiones del mismo y las líneas de código que entran en conflicto, antes de completar la sincronización.</li> </ul> <p>La sincronización con el repositorio remoto, por lo tanto, no puede ser automática (como en Google Drive o Dropbox), sino que hemos de hacerla explícita, momento en el cual el sistema nos avisará de posibles conflictos. Esta es la única manera de resolver adecuadamente esos conflictos en proyectos donde haya mucha gente trabajando simultáneamente.</p> <h1 id="82-git-básico"> <a href="#82-git-básico" class="anchor-heading" aria-labelledby="82-git-básico"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.2. Git básico </h1> <p>Git es, en la actualidad, el sistema de control de versiones más utilizado del mundo con diferencia. También es uno de los más completos y complejos. Así que, si aprendes a utilizar Git, podrás apañártelas con cualquier otro sistema de control de versiones.</p> <p>En esta sección vamos a ver cómo se usa Git a nivel básico. El acceso a las funciones avanzadas irá viniendo solo, con el tiempo y el uso.</p> <h2 id="821-poniendo-en-marcha-git"> <a href="#821-poniendo-en-marcha-git" class="anchor-heading" aria-labelledby="821-poniendo-en-marcha-git"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.2.1. Poniendo en marcha Git </h2> <p>Git es un sistema de control de versiones de código abierto. De hecho, se creó inicialmente (y se sigue usando para ello) para desarrollar el núcleo de Linux. Eso quiere decir que cualquiera puede coger el código, modificarlos, adaptalo y distribuirlo.</p> <p>Por eso encontrarás multitud de implementaciones de Git, así como muchos servidores y clientes que lo usan. Todos son compatibles entre sí.</p> <p>Git crea repositorios locales y remotos que hay que mantener sincronizados manualmente. Eso quiere decir que, para usar Git, necesitas al menos:</p> <ul> <li>Instalar un cliente de Git en tu ordenador de trabajo.</li> <li>Instalar un servidor de Git en el ordenador donde vayas a alojar el repositorio remoto.</li> </ul> <p>Para el servidor Git, mucha gente utiliza servidores gratuitos disponibles en Internet. Los más conocidos de ellos son GitHub y GitLab. Son sitios web donde te registras y ¡voilà!, ya tienes disponible un servidor Git en línea para que funcione de repositorio remoto. Además, estos sitios proporcionan características adicionales muy convenientes, como sistemas de gestión de <em>issues</em> o tareas pendientes, gestión de proyectos, estadísticas, evaluación de la calidad de software, etc. También funcionan como redes sociales para desarrolladores.</p> <p>En fin, que, salvo que seas un paranoico de la seguridad o estés desarrollando código ultrasecreto para la NSA o el CSIF, usar GitHub o GitLab como repositorio remoto es la opción más interesante. Así que ya puedes registrarte en alguno de los dos.</p> <p>Después de eso, solo te queda instalarte en tu ordenador un cliente Git.</p> <p>Clientes Git hay muchos, algunos más bonitos que otros. Yo te recomiendo el cliente básico en modo texto, con el que tendrás que salirte a la consola y teclear comandos. Teclear comandos incomprensibles de forma rápida y segura siempre mola mucho de cara a los demás. A parte de eso, aprenderse los comandos básicos de Git te salvará la vida en algún momento de tu futuro profesional con toda seguridad, te lo aseguro, así que es una buena inversión de tiempo.</p> <p>Puedes encontrar los clientes oficiales de Git en la web del proyecto: https://git-scm.com/</p> <p>Cuando hayas aprendido a apañarte con los comandos, es posible que no quieras recurrir a los clientes gráficos, pero, por si acaso, te comento que existen mogollón de ellos que te permitirán sincronizar tus archivos con un solo clic y resolver conflictos de forma rápida y muy visual. Algunos de ellos son: GitHub Desktop (ofrecido por GitHub), GitKraken, Git Cola o Tortoise Git.</p> <p>Por último, ten en cuenta que todos los entornos de desarrollo medianamente potentes ofrecen una integración absoluta con Git. Es decir, que si usas Visual Studio Code, o Eclipse, o NetBeans, o muchos otros, no necesitarás ningún cliente git adicional, porque ya lo traen incorporado. Tan solo debes configurar la ruta el repositorio remoto y al local, y hala, a programar y a sincronizar como si no hubiera un mañana.</p> <h3 id="822-creando-un-repositorio-nuevo"> <a href="#822-creando-un-repositorio-nuevo" class="anchor-heading" aria-labelledby="822-creando-un-repositorio-nuevo"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.2.2. Creando un repositorio nuevo </h3> <p>Vale, ya tenemos nuestra cuenta en GitHub o GitLab y hemos instalado un cliente Git en nuestra máquina. ¿Ahora qué?</p> <p>Podemos encontrarnos ante dos escenarios diferentes:</p> <ol> <li>Voy a empezar un proyecto nuevo y quiero inicializar un repositorio en blanco.</li> <li>Ya tengo mi código fuente (todo o una parte) escrito y quiero añadirlo a un repositorio git.</li> </ol> <p>Vamos a ver cómo proceder en cada caso. Lo haremos mostrando cómo se usa el cliente git de línea de comando. Desde los clientes gráficos, el proceso será parecido, pero tendrás que trastear con el cliente en cuestión o leerte su documentación para ver los detalles.</p> <h4 id="voy-a-empezar-un-proyecto-nuevo-y-quiero-inicializar-un-repositorio-en-blanco"> <a href="#voy-a-empezar-un-proyecto-nuevo-y-quiero-inicializar-un-repositorio-en-blanco" class="anchor-heading" aria-labelledby="voy-a-empezar-un-proyecto-nuevo-y-quiero-inicializar-un-repositorio-en-blanco"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Voy a empezar un proyecto nuevo y quiero inicializar un repositorio en blanco. </h4> <ol> <li>Abre un terminal de línea de comandos y muévete al directorio donde tienes pensado crear tu código fuente. Usa para ello los comandos <em>cd directorio</em> (para cambiar de directorio) o <em>mk directorio</em> (para crear un directorio nuevo).&lt;/li&gt;</li> <li> <p>Para crear un repositorio git local en el directorio elegido, simplemente teclea este comando:&lt;/li&gt;</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ git init
</code></pre></div> </div> </li> <li> <p>Para conectar este repositorio local con un repositorio remoto en GitHub o GitLab, escribe a continuación este comando (sustituye URI por la dirección de tu repositorio que te habrá proporcionado GitHub o GitLab. Por ejemplo, en GitHub, una URI de repositorio tiene un aspecto como este: https://github.com/usuario/nombre-repositorio.git):</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ git remote add origin &lt;URI&gt;
</code></pre></div> </div> <p>Obviamente, el repositorio remoto deberías haberlo creado antes desde la web de GitHub o GitLab.</p> </li> </ol> <p>Eso es todo. A partir de ahora, podrás empezar a desarrollar tu código en local y a sincronizar tus archivos con el repositorio remoto cada vez que lo necesites. El procedimiento para hacer esto último lo describimos un poco más adelante.</p> <h4 id="ya-tengo-mi-código-fuente-y-quiero-añadirlo-a-un-repositorio-git"> <a href="#ya-tengo-mi-código-fuente-y-quiero-añadirlo-a-un-repositorio-git" class="anchor-heading" aria-labelledby="ya-tengo-mi-código-fuente-y-quiero-añadirlo-a-un-repositorio-git"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Ya tengo mi código fuente y quiero añadirlo a un repositorio git </h4> <p>Este caso es un poquito más complejo, pero tampoco mucho. Asegúrate de tener ya creado un repositorio (vacío) en GitHub o GitLab antes de seguir esta guía.</p> <ol> <li>Abre un terminal de línea de comandos y muévete al directorio donde tengas tu código fuente. Usa para ello el comando cd <directorio>.</directorio></li> <li> <p>Para crear un repositorio git local en ese directorio, simplemente teclea este comando:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ git init
</code></pre></div> </div> </li> <li> <p>Para conectar este repositorio local con un repositorio remoto en GitHub o GitLab, escribe a continuación este comando (sustituye <URI> por la dirección de tu repositorio que te habrá proporcionado GitHub o GitLab. Por ejemplo, en GitHub, una URI de repositorio tiene un aspecto como este: https://github.com/usuario/nombre-repositorio.git):</URI></p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ git remote add origin &lt;URI&gt;
</code></pre></div> </div> </li> <li> <p>Edita el archivo .gitignore para incluir en él los archivos y directorios que no quieres incluir en el repositorio. Esto suele referirse a archivos de configuración, imágenes y otros recursos que no son parte intrínseca del código fuente o librerías de terceros. Más adelante hablaremos del archivo .gitignore con más detalle.</p> </li> <li> <p>Haz tu primer commit para añadir todo el código fuente que ya tienes:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ git add *
 $ git commit -m "Primer commit con todo el código preexistente"
</code></pre></div> </div> </li> <li> <p>Sube el código de ese commit a tu repositorio remoto (te pedirá tu usuario y contraseña en GitHub o GitLab):</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ git push
</code></pre></div> </div> </li> </ol> <p>Si ahora entras en tu perfil de GitHub o GitLab, verás que el repositorio remoto ya contiene todos los archivos que tenías en tu proyecto (excepto los que señalaste en .gitignore). Los repositorios local y remoto ya están creados y puedes empezar a trabajar con normalidad, escribiendo código y subiéndolo al repositorio remoto cuando lo necesites. Este proceso lo describiremos en detalle enseguida.</p> <p>Si no has entendido alguno de estos pasos, no te agobies. Enseguida te quedarán más claros.</p> <h4 id="más-cosas-sobre-la-inicialización-de-un-repositorio"> <a href="#más-cosas-sobre-la-inicialización-de-un-repositorio" class="anchor-heading" aria-labelledby="más-cosas-sobre-la-inicialización-de-un-repositorio"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Más cosas sobre la inicialización de un repositorio </h4> <p>Hay otro par de cosas que te interesa hacer al iniciarlizar un repositorio. Solo tendrás que hacerlo una vez y, después, tu repositorio lo recordará.</p> <p>Después del <em>git init</em>, puedes indicarle al repositorio qué usuario de GitHub o GitLab va a realizar los commits. Esto se hace así:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git --config user.name "Mi-nombre-de-usuario"
$ git --config user.email "Mi-email"
</code></pre></div></div> <p>Para comprobar que la información es correcta, simplemente teclea:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git --config list
</code></pre></div></div> <h4 id="antes-de-continuar-no-te-olvides-de-gitignore"> <a href="#antes-de-continuar-no-te-olvides-de-gitignore" class="anchor-heading" aria-labelledby="antes-de-continuar-no-te-olvides-de-gitignore"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ¡Antes de continuar! No te olvides de .gitignore </h4> <p>Una última cosita antes de describir cómo es el trabajo cotidiano con git y qué significa todo eso de los commits.</p> <p>Esa cosita es sobre el archivo <strong><em>.gitignore</em></strong>. Es un archivo muy importante que debería estar en el directorio raíz de tu proyecto. Si no existe, créalo. Ten en cuenta que en los sistemas GNU/Linux y Mac, los archivos cuyo nombre empiezan por un punto se consideran ocultos, por lo que es posible que el archivo esté ahí sin que lo veas.</p> <p>Ese archivo es muy importante porque contiene una lista de todas las cosas que no se deben subir al repositorio remoto. Esto incluye, entre otros:</p> <ul> <li> <p><strong>Los archivos de configuración</strong>. Es habitual en una aplicación web tener un archivo de configuración (llamado config.php o algo parecido) con un puñado de variables donde se guarda el host de la base de datos, el usuario y la contraseña para ese host, el nombre de la base de datos, etc. Y, vamos a ver, ¿de verdad quieres que cualquiera que acceda a tu repositorio de GitHub o GitLab vea esa información?</p> <p>Además del problema de seguridad que puede suponerte (sobre todo si, como el 99% de los desarrolladores, usas el acceso root a tu servidor local de bases de datos mientras estás desarrollando un nuevo proyecto), es que no tiene sentido subir esa información al repositorio remoto, porque será diferente en cada servidor donde la aplicación se ponga en producción.</p> <p>Lo que sí suele hacerse es crear un archivo de configuración de ejemplo (algo como config-example.php), donde se muestre la estructur que debe tener config.php pero se dejen en blanco los valores de las variables. Ese archivo sí que puede sincronizarse con el resto del código y subirse a GitHub o GitLab.</p> </li> <li> <p><strong>Archivos de recursos que no forman parte de la aplicación</strong>. Imagina que estás programando una aplicación web para una biblioteca. Esa aplicación usa algunas imágenes para construir sus vistas (por ejemplo, una hermosa fotografía de un libro antiguo para el encabezamiento). Esas imágenes <strong>sí</strong> forman parte de la aplicación y <strong>sí</strong> deben subirse al repositorio remoto.</p> <p>Pero imagina que, como es lógico, para probar la aplicación has creado un montón de libros falsos en tu base de datos local. Cada vez que añades un libro falso, le asignas una imagen de la portada (falsa también), que la aplicación almacenará en algún directorio del servidor local. Esas imágenes forman parte de los datos de prueba, no de la propia aplicación, y, por tanto <strong>no</strong> deberían subirse a GitHub ni GitLab. El directorio completo donde almacenes esas imagenes debería incluirse en .gitignore.</p> <p>Si no lo haces así, llenarás el repositorio remoto de basurilla y, además, harás que ocupe mucho más espacio del necesario, hasta el extremo que una clonación del repositorio puede tardar varias horas y ocupar muchos gigabytes. Ten en cuenta que el repositorio no solo contiene el estado actual del proyecto, sino también <em>todos los estados anteriores</em>, lo que incluye todas las imágenes de libros falsos que hayas podido añadir alguna vez durante el desarrollo.</p> <p>Esto no solo es aplicable a imágenes, sino a cualquier otro recurso que use la aplicación y que no forme parte de la propia aplicación: sonidos, fuentes tipográficas, vídeos, etc.</p> </li> <li> <p><strong>Bibliotecas de terceros</strong>. A menudo, recurrimos a bibliotecas de terceros para usarlas en nuestra aplicación. Incluir ese código en nuestro repositorio nos puede meter en un embrollo legal (mírate bien la licencia de uso de <em>todas</em> las bibliotecas que vayas a utilizar) y, además, nos puede hacer engordar innecesariamente el repositorio. Tendrás que valorar una a una si es conveniente incluir determinada librería o no. Las librerías no incluidas deberán ser instaladas manualmente cuando la aplicación se despliegue en un servidor, lo cual deberás explicar muy bien en la documentación.</p> <p>Por ejemplo, en el caso de Laravel, se aconseja no incluir la carpeta “vendor” en el repositorio remoto. Es decir, hay que añadir la carpeta “vendor” a .gitignore antes de la primera sincronización. En “vendor” se encuentran todas las librerías de terceros que usa Laravel. Entonces, para desplegar esta aplicación en un servidor, ¿de dónde sacamos todas esas librerías? Fácil: cuando despleguemos el código en un servidor, solo tendremos que ejecutar “composer update” en el directorio raíz de la aplicacion, y el propio composer se encargará de instalar las librerías.</p> </li> </ul> <h2 id="83-flujo-de-trabajo-básico-con-git"> <a href="#83-flujo-de-trabajo-básico-con-git" class="anchor-heading" aria-labelledby="83-flujo-de-trabajo-básico-con-git"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3. Flujo de trabajo básico con Git </h2> <p>Bueno, pues ya tenemos nuestros repositorios inicializados, conectados con el remoto y con el archivo .gitignore a punto. ¿Qué hacemos ahora?</p> <p>Muy fácil: ponernos a trabajar como si git no existiera.</p> <p>Y luego, cuando des por finalizada una parte de la aplicación (un método, una clase, una funcionalidad concreta: tú decides cada cuánto tiempo haces esto), pasarla a la <strong><em>Staging Area</em></strong>.</p> <h3 id="831-un-momento-staging-quéeee"> <a href="#831-un-momento-staging-quéeee" class="anchor-heading" aria-labelledby="831-un-momento-staging-quéeee"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.1. Un momento… ¿Staging quéeee? </h3> <p>La <strong><em>Staging Area</em></strong> es como la pista de despegue de Git.</p> <p>La idea es la siguiente: Git no quiere sincronizar tus archivos con el repositorio remoto de forma automática (como hacen las plataformas para el público general, como Google Drive o Dropbox), porque sabe que los programadores producimos mucha basura al cabo del día.</p> <p>Si cada vez que escribimos una basurilla, Git la sincronizara con el remoto, el resto de personas del proyecto estarían recibiendo nuestra basura de forma permanente. Y nosotros la de esas personas.</p> <p>Y esparcir basura no es una buena política.</p> <p>Así que Git quiere que seas muy consciente de cuándo quieres sincronizar algo, y de qué es lo que quieres sincronizar. Quiere que te tomes el trabajo (que tampoco es para tanto, la verdad) de tomarte medio minuto de tu tiempo para decirle: “eh, Git, he estado trabajando en estos dos archivos esta mañana y creo que <em>ahora</em> ya no son una basura”.</p> <p>Para eso sirve la Staging Area.</p> <p>Tienes que pasar los archivos que ya no son una basura a la Staging Area. Y tienes que hacerlo tú, generalmente cuando hayas terminado una funcionalidad y la hayas probado adecuadamente. Lo bastante como para que no te avergüence que otras personas del equipo reciban tu código.</p> <p>Para añadir archivos a la Staging Area se usa el comando git add, así:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git add archivo1 archivo2 archivo3 ...
</code></pre></div></div> <p>Se pueden añadir directorios completos:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git add directorio1 directorio2 ...
</code></pre></div></div> <p>Y también se pueden usar símbolos comodín, como el asterisco. De modo que, si estás muy, pero que muy seguro/a de que todos los archivos que han andado tocando desde el último commit están en un estado aceptable, puedes hacer esto para que git se encargue de <em>añadir todos los archivos modificados recientemente a la Staging Area</em>:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git add *
</code></pre></div></div> <p>Por fin, cuando tengas una o varias cosas preparadas en la Staging Area… Bueno, entonces llega el momento de hacer un <strong>commit</strong>.</p> <h3 id="832-hacer-commit"> <a href="#832-hacer-commit" class="anchor-heading" aria-labelledby="832-hacer-commit"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.2. Hacer commit </h3> <p>Un <strong>commit</strong> (palabra que podríamos traducir por “perpetrar”) consiste en empaquetar todos los cambios de la Staging Area para enviarlos a otro repositorio, normalmente el repositorio remoto.</p> <p>El decir, con el commit le decimos a Git: “quiero que prepares todo el código que te he puesto en la Staging Area a para enviarlo a GitHub” (o a dónde sea).</p> <p>Se puede hacer un commit por cada pequeña modificación que introducimos en la Staging Area, o se pueden preparar muchos archivos en la Staging Area y luego empaquetarlos en un único mega-commit. Eso lo decidís tú y tu equipo de desarrollo. Pero suele ser buena idea hacer commits de funcionalidades o tareas individuales.</p> <p>Es decir, si esta mañana he estado trabajando en dos funcionalidades, “Añadir usuarios nuevos” y “Modificar la vista de edición de usuarios”, es mejor que haga dos commits separados para cada una de esas funcionalidades.</p> <p>Esto es así porque, a cada commit, le tengo que añadir <strong><em>obligatoriamente</em></strong> un texto descriptivo donde indique qué cambios estoy subiendo con ese commit.</p> <p>El comando para hacer un commit es:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git commit -m "Mensaje"
</code></pre></div></div> <p>Ahora saco mi bola de cristal y te digo: no tardarás ni una semana en empezar a hacer commits cuyo texto descriptivo será algo como “aslkdaslkjda”, “aaa”, “yoquésé”. Eso es una pésima idea. Antes o después, alguien del equipo meterá la pata, subirá un cambio indebido y todo el repositorio explotará. Entonces, intentaréis regresar a un estado en el que el código aún funcionaba, pero encontraréis un montón de commits con explicaciones incomprensibles como “aslkdaslkjda”, “aaa” y “yoquésé”. Y sudaréis tinta para descubrir cuál fue el commit explosivo.</p> <p>Los commits deben llevar textos descriptivos breves pero informativos. Por ejemplo: “Arreglo el fallo del id de usuario inexistente al actualizar foto de perfil” o “Elimino el botón de modificar de la vista de libros”.</p> <p>Pero, ¡ojo!, hacer commit <strong>no sube los archivos al repositorio remoto</strong>. Todavía no. Recuerda que Git quiere que estés muy seguro/a de que subes lo que realmente tienes que subir, así que aún te falta un último paso: hacer <strong><em>push</em></strong>.</p> <h3 id="833-subir-el-commit-hacer-push"> <a href="#833-subir-el-commit-hacer-push" class="anchor-heading" aria-labelledby="833-subir-el-commit-hacer-push"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.3. Subir el commit: hacer push </h3> <p>El último paso para enviar nuestros cambios locales al repositorio remoto (típicamente, GitHub o GitLab) consiste en hacer <strong><em>push</em></strong>. Es decir, literalmente, “empujar” los cambios al repositorio remoto.</p> <p>La operación <em>push</em> enviará todos los commits que aún no se hayan enviado al repositorio remoto. A partir de ese momento, estarán disponibles para el resto de miembros del equipo. Pero solo a partir de ese momento.</p> <p>Para hacer push, basta con escribir:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git push
</code></pre></div></div> <p>Lo normal es que el repositorio remoto te pida tu nombre de usuario y contraseña, pero eso dependerá de si el acceso a ese repositorio está autenticado o no. Por supuesto, tanto GitHub como GitLab te solicitarán que te identifiques.</p> <h3 id="834-bajarnos-la-última-versión-del-código"> <a href="#834-bajarnos-la-última-versión-del-código" class="anchor-heading" aria-labelledby="834-bajarnos-la-última-versión-del-código"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.4. Bajarnos la última versión del código </h3> <p>Si podemos subir nuestros cambios al repositorio remoto, tendremos que tener una forma de bajar los cambios del resto de miembros del equipo, ¿verdad?</p> <p>Por supuesto, existe un comando para ello. Es este:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git pull
</code></pre></div></div> <p>Es recomendable hacer pull antes de hacer push, por si alguien a tocado alguno de los archivos que nosotros pretendemos subir. En ese caso, Git nos avisará del conflicto y nos ayudará a resolverlo (más adelante veremos cómo). No podremos hacer push hasta resolver ese conflicto, para evitar pérdidas de código.</p> <h3 id="835-resumiéndolo-todo-diagrama-del-flujo-de-trabajo-habitual"> <a href="#835-resumiéndolo-todo-diagrama-del-flujo-de-trabajo-habitual" class="anchor-heading" aria-labelledby="835-resumiéndolo-todo-diagrama-del-flujo-de-trabajo-habitual"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.5. Resumiéndolo todo: diagrama del flujo de trabajo habitual </h3> <p>Si resumimos lo dicho hasta ahora, tenemos que, después de inicializar el repositorio (cosa que hay que hacer solo una vez), el trabajo cotidiano con Git consiste en:</p> <ol> <li>Desarrollar nuestra aplicación con normalidad.</li> <li>Cuando terminamos de hacer algo, añadirlo a la Staging Area (git add).</li> <li>Cada cierto tiempo, o cuando acabamos una funcionalidad, empaquetar todos los cambios que esperan en la Staging Area en un commit (git commit).</li> <li>Bajarnos los commits del resto de miembros del equipo (git pull)</li> <li>Subir nuestros commits al repositorio remoto (git push)</li> </ol> <p>Podemos verlo gráficamente en el siguiente esquema. Las tres primeras columnas (workspace, Staging Area y Local Repo) están en nuestro ordenador de trabajo. El repositorio remoto (Remote Repo) está en un servidor.</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Workspace   Staging area (INDEX)  Local repo (HEAD)   Remote repo
    |             |                     |                  |
    | git add →   |                     |                  |
    |             |    git commit →     |                  |
    |             |                     |    git push →    |
    |             |                     |                  |
    |             |                     |                  |
    | ← ← ← ← ←   |     ← ← ← ← ←       |   ← git pull     |
    |             |                     |                  |
    |             |                     |                  |
</code></pre></div></div> <p>Un último apunte: te voy a chivar un comando muy útil de git cuando no estás muy seguro de qué archivos has estado tocando últimamente (¿a quién no le ha pasado eso? ¿Eh?). Este comando te resumirá el estado de tu repositorio local, indicándote qué archivos han sido modificados (pero no están en la Staging Area), qué archivos están preparados en la Staging Area (pero no en un commit) y, por supuesto, qué commits están hechos pero aún sin subir.</p> <p>Todo eso, gratis y tecleando este humilde comando:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git status
</code></pre></div></div> <p>¿Es potente o no es potente este Git? Pues aún no has visto nada.</p> <h2 id="84-algunas-cosillas-avanzadas-sobre-git"> <a href="#84-algunas-cosillas-avanzadas-sobre-git" class="anchor-heading" aria-labelledby="84-algunas-cosillas-avanzadas-sobre-git"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4. Algunas cosillas avanzadas sobre git </h2> <p>Solo con lo que hemos visto hasta ahora (add, commit, push y pull) ya tienes suficiente para empezar a funcionar con git. Luego, conforme te surjan otras necesidades, puedes ir curioseando por internet para profundizar en ciertos aspectos.</p> <p>Una de esas “necesidades” que te surgirán antes o después consiste en lo siguiente:</p> <p>Imagínate la escena: un día llegas a clase después de haberte acosatado a las tantas trabajando en tu proyecto. Antes de acostarte hiciste un push para subir todos tus cambios y puedes jurar que todo funcionaba perfectamente. Pero ahora, tú y el resto de miembros de tu equipo acabáis de hacer pull y… ¡BUM! El proyecto entero salta por los aires. El homepage no carga. Otras rutas que <em>estás seguro</em> de que funcionaban hace unas horas ahora no responden.</p> <p>¿Qué narices ha pasado?</p> <p>Tranquilidad: ahí está Git para sacarte del embrollo.</p> <h3 id="841-houston-tenemos-un-problema"> <a href="#841-houston-tenemos-un-problema" class="anchor-heading" aria-labelledby="841-houston-tenemos-un-problema"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.1. Houston, tenemos un problema </h3> <p>Las causas de un desastre como ese pueden ser tantas que, en la práctica, es como si fueran infinitas. Un problema con el proxy, un merge mal hecho, una desconfiguración de uno de los servidores locales que ha afectado a algún archivo clave, un error de algún miembro del equipo que ha sobreescrito cientos de archivos con versiones incorrectas… Infinitas, ya te digo.</p> <p>No suele compensar el esfuerzo de buscar la razón última de lo que ha ocurrido, salvo que os pase esto con cierta regularidad: entonces sí que es cuestión de preocuparse.</p> <p>La mayoría de las veces es un problema puntual que puede resolverse de un modo muy simple: volviendo a la última versión estable.</p> <p>XXX</p> <h3 id="842-regreso-al-pasado-cómo-revertir-cambios"> <a href="#842-regreso-al-pasado-cómo-revertir-cambios" class="anchor-heading" aria-labelledby="842-regreso-al-pasado-cómo-revertir-cambios"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.2. Regreso al pasado: cómo revertir cambios </h3> <p>-Deshacer cambios</p> <p>git log (muestra historial de cambios) git log –oneline (muestra historial de cambios simplificado)</p> <h3 id="843-cuando-dos-personas-se-encaprichan-del-mismo-archivo"> <a href="#843-cuando-dos-personas-se-encaprichan-del-mismo-archivo" class="anchor-heading" aria-labelledby="843-cuando-dos-personas-se-encaprichan-del-mismo-archivo"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.3. Cuando dos personas se encaprichan del mismo archivo </h3> <p>-Resolver conflictos. Merge</p> <h3 id="844-proyectos-que-se-complican-cómo-crear-ramas"> <a href="#844-proyectos-que-se-complican-cómo-crear-ramas" class="anchor-heading" aria-labelledby="844-proyectos-que-se-complican-cómo-crear-ramas"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.4. Proyectos que se complican: cómo crear ramas </h3> <p>-Ramas?</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
