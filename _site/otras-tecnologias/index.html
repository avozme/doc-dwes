<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>8 Otras tecnologías - DAW DOCS</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>8 Otras tecnologías | DAW DOCS</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="8 Otras tecnologías" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Apuntes del módulo de “Desarrollo web en entorno servidor”, de 2º curso del Ciclo Formativo de Grado Superior de “Desarrollo de Aplicaciones Web”, impartido en el IES Celia Viñas de Almería (España)" /> <meta property="og:description" content="Apuntes del módulo de “Desarrollo web en entorno servidor”, de 2º curso del Ciclo Formativo de Grado Superior de “Desarrollo de Aplicaciones Web”, impartido en el IES Celia Viñas de Almería (España)" /> <link rel="canonical" href="/otras-tecnologias/" /> <meta property="og:url" content="/otras-tecnologias/" /> <meta property="og:site_name" content="DAW DOCS" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="8 Otras tecnologías" /> <script type="application/ld+json"> {"@type":"WebPage","url":"/otras-tecnologias/","headline":"8 Otras tecnologías","description":"Apuntes del módulo de “Desarrollo web en entorno servidor”, de 2º curso del Ciclo Formativo de Grado Superior de “Desarrollo de Aplicaciones Web”, impartido en el IES Celia Viñas de Almería (España)","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> DAW DOCS </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/" class="nav-list-link">Desarrollo Web en Entorno Servidor</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/cms/" class="nav-list-link">1 Sistemas gestores de contenido (CMS)</a><ul class="nav-list"><li class="nav-list-item "> <a href="/cms/algunas-cosas-que-debes-saber" class="nav-list-link">1.1 Algunas cosas que debes saber sobre los CMS</a> </li><li class="nav-list-item "> <a href="/cms/wordpress" class="nav-list-link">1.2 Wordpress</a> </li><li class="nav-list-item "> <a href="/cms/moodle" class="nav-list-link">1.3 Moodle</a> </li><li class="nav-list-item "> <a href="/cms/prestashop" class="nav-list-link">1.4 Prestashop</a> </li></ul></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/php/" class="nav-list-link">2 Introducción a PHP</a><ul class="nav-list"><li class="nav-list-item "> <a href="/php/programacion-cliente-servidor" class="nav-list-link">2.1 Programación cliente-servidor</a> </li><li class="nav-list-item "> <a href="/php/caja-de-herramientas" class="nav-list-link">2.2 Caja de herramientas</a> </li><li class="nav-list-item "> <a href="/php/sintaxis-de-php" class="nav-list-link">2.3 Sintaxis de PHP</a> </li><li class="nav-list-item "> <a href="/php/interaccion-con-php" class="nav-list-link">2.4 Interacción con la base de datos</a> </li><li class="nav-list-item "> <a href="/php/ejercicios-resueltos" class="nav-list-link">2.5 Ejercicios resueltos</a> </li></ul></li><li class="nav-list-item "><a href="/cookies-sesiones-seguridad/" class="nav-list-link">3 Cookies, sesiones y seguridad</a></li><li class="nav-list-item "><a href="/mvc/" class="nav-list-link">4 Arquitectura MVC</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/laravel/" class="nav-list-link">5 Laravel</a><ul class="nav-list"><li class="nav-list-item "> <a href="/laravel/1" class="nav-list-link">5.1 Frameworks PHP MVC</a> </li><li class="nav-list-item "> <a href="/laravel/2" class="nav-list-link">5.2 Características de Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/3" class="nav-list-link">5.3 Instalación de Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/4" class="nav-list-link">5.4 Arquitectura, convenciones y configuración de Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/5" class="nav-list-link">5.5 Artisan</a> </li><li class="nav-list-item "> <a href="/laravel/6" class="nav-list-link">5.6 Primeros pasos con Laravel. Hola mundo</a> </li><li class="nav-list-item "> <a href="/laravel/7" class="nav-list-link">5.7 Enrutamiento</a> </li><li class="nav-list-item "> <a href="/laravel/8" class="nav-list-link">5.8 Vistas y plantillas. Blade</a> </li><li class="nav-list-item "> <a href="/laravel/9" class="nav-list-link">5.9 Controladores</a> </li><li class="nav-list-item "> <a href="/laravel/10" class="nav-list-link">5.10 Migraciones</a> </li><li class="nav-list-item "> <a href="/laravel/11" class="nav-list-link">5.11 Usando la BD con Eloquent</a> </li><li class="nav-list-item "> <a href="/laravel/12" class="nav-list-link">5.12 Usando la BD con QueryBuilder</a> </li><li class="nav-list-item "> <a href="/laravel/13" class="nav-list-link">5.13 Sesiones con Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/14" class="nav-list-link">5.14 Helpers de Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/15" class="nav-list-link">5.15 Flujo de trabajo típico con Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/16" class="nav-list-link">5.16 Laravel y Vue.js</a> </li><li class="nav-list-item "> <a href="/laravel/17" class="nav-list-link">5.17 Aspectos avanzados de Laravel</a> </li></ul></li><li class="nav-list-item "><a href="/servicios-web/" class="nav-list-link">6 Servicios web</a></li><li class="nav-list-item "><a href="/ajax/" class="nav-list-link">7 Ajax</a></li><li class="nav-list-item active"><a href="/otras-tecnologias/" class="nav-list-link active">8 Otras tecnologías</a></li><li class="nav-list-item "><a href="/scv-git/" class="nav-list-link">Anexo I. Sistemas de control de versiones. Git</a></li></ul></li><li class="nav-list-item"><a href="/about/" class="nav-list-link">About</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search DAW DOCS" aria-label="Search DAW DOCS" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/">Desarrollo Web en Entorno Servidor</a></li> <li class="breadcrumb-nav-list-item"><span>8 Otras tecnologías</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="8-otras-tecnologías"> <a href="#8-otras-tecnologías" class="anchor-heading" aria-labelledby="8-otras-tecnologías"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8. Otras tecnologías </h1> <p>En esta sección vamos a hacer un repaso rápido a otros lenguajes para desarrollo web del lado del servidor diferentes de PHP.</p> <p>Será solo una pasada superficial, para que te hagas una idea de qué aspecto tienen estos lenguajes y veas que, en lo sustancial, no difieren mucho unos de otros. Esto quiere decir que, si te manejas bien con PHP, podrás pasarte a cualquiera de estos lenguajes con muy poco esfuerzo y en solo unos días.</p> <h2 id="81-common-gateway-interface-cgi"> <a href="#81-common-gateway-interface-cgi" class="anchor-heading" aria-labelledby="81-common-gateway-interface-cgi"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.1. Common Gateway Interface (CGI) </h2> <p>CGI es la solución más antigua para el desarrollo web en el lado del servidor.</p> <p>En la década de 1990, cuando se empezó a pensar en la posibilidad de crear página dinámicas generadas por el servidor a partir de los recursos del mismo (típicamente, una base de datos), los primeros intentos utilizaron las tecnologías presentes en ese momento en los servidores web.</p> <p>Todos los servidores tenían un compilador de C/C++, así que alguien pensó: ¿por qué no escribimos las aplicaciones web en C/C++, las compilamos y hacemos que el ejecutable se pueda invocar vía web?</p> <p>Para lograr esto último, se utilizó CGI (Common Gateway Interface).</p> <p>CGI es una interfaz entre los servidores web y las aplicaciones que se ejecutan en el servidor. Estas aplicaciones pueden estar construidas en cualquier lenguaje (no solo C/C++). A CGI, eso le da igual. Solo define la forma de transferir información en ambos sentidos.</p> <p>La figura siguiente muestra la forma en la que se ejecutan programas en el servidor a través de CGI. Si lo observas con atención, verás que no difiere demasiado de la forma en la que trabaja PHP, porque cualquier petición tiene 4 pasos:</p> <ol> <li>Se recibe la petición de un cliente web.</li> <li>El servidor web recibe la peticion y, a través del interfaz CGI, le pide al sistema operativo que ejecute el programa correspondiente.</li> <li>La salida del programa se redirige al servidor web. De esto se encarga, nuevamente, el interfaz CGI.</li> <li>El servidor devuelve al cliente el resultado de la ejecución del programa.</li> </ol> <p>XXX esquema</p> <h3 id="811-entonces-en-qué-se-diferencia-cgi-de-php"> <a href="#811-entonces-en-qué-se-diferencia-cgi-de-php" class="anchor-heading" aria-labelledby="811-entonces-en-qué-se-diferencia-cgi-de-php"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.1.1. Entonces, ¿en qué se diferencia CGI de PHP? </h3> <p>Lo primero, CGI no es un lenguaje de programación. Eso ya lo hemos dicho. Es un <strong><em>interfaz</em></strong> entre el servidor web y el sistema operativo para poder ejecutar cualquier programa escrito en cualquier lenguaje a través de la web.</p> <p>Puede parecer una solución perfecta, ¿verdad? Pero, si fuera así, ¿por qué no se sigue usando de forma masiva? ¿Por qué se abandonó en favor de PHP u otros de los lenguajes que vamos a ver más adelante?</p> <p>La respuesta breve es: CGI tiene un serio problema de rendimiento.</p> <p>Cada vez que se recibe una petición de un cliente, se crea un nuevo proceso en el servidor para ejecutar el programa en cuestión. Este proceso necesita un espacio de memoria para colocar su código fuente y sus datos, y esto recursos solo se liberan cuando el servidor termina de responder al cliente. Esta creación de procesos independientes implica una carga importante para el servidor, por lo cual esta modalidad de generación de contenido dinámico no es muy escalable.</p> <p>Por su parte, PHP (y otras soluciones que veremos más adelante) no crean un proceso independiente para cada petición recibida, sino que un mismo macro-proceso se encarga de gestionarlas todas. En términos de escalabilidad, esta opción es mucho mejor. Así que, cuando los servidores empezaron a recibir muchas visitas simultáneas, CGI comenzó a abandonarse. Sencillamente, ningún servidor podía soportar grandes volúmenes de peticiones.</p> <p>Existen algunas alternativas para solucionar este problema de CGI, como mantener un sólo proceso CGI en memoria que se encargue de procesar todas las peticiones (técnica conocida como FastCGI y que, de hecho, se sigue utilizando en la actualidad, incluso para ejecutar PHP en el servidor), pero resulta más complejo de configurar y operar, e implica algunos problemas de seguridad. En cualquier caso, estos detalles de configuración del servidor son cosas que competen más a los administradores de sistemas que a los desarrolladores.</p> <h2 id="82-perl"> <a href="#82-perl" class="anchor-heading" aria-labelledby="82-perl"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.2. Perl </h2> <p>A partir de este punto, veremos varios lenguajes alternativos a PHP (es decir, su “competencia”) siguiendo siempre el mismo esquema:</p> <ul> <li>Primero, enumeraremos las características y filosofia del lenguaje.</li> <li>Luego explicaremos a grandes rasgos cómo hay que configurar el servidor para poder usar ese lenguaje para desarrollo web.</li> <li>Después mostraremos la sintaxis básica del lenguaje.</li> <li>Por último, escribiremos dos ejemplos completos en cada lenguaje: un sencillo “hola, mundo” y un programa algo más complejo que lanza una validación de login mediante ajax. En este segundo caso, la parte del cliente será siempre la misma, y solo cambiaremos la parte del servidor. Eso te permitirá apreciar las diferencias entre unos lenguajes y otros. Enseguida te darás cuenta de que esas diferencias son mínimas.</li> </ul> <h3 id="821-características-del-lenguaje-perl"> <a href="#821-características-del-lenguaje-perl" class="anchor-heading" aria-labelledby="821-características-del-lenguaje-perl"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.2.1. Características del lenguaje Perl </h3> <p>Fecha de aparición: 1987.</p> <p>Perspectivas:</p> <ul> <li>Uso decreciente.</li> <li>Apto para tareas pequeñas y rápidas.</li> <li>Cuenta con desarrolladores muy fieles y experimentados. Documentación muy extensa.</li> <li>Soporte amplio en cualquier servidor.</li> </ul> <p>Filosofía de Perl:</p> <ul> <li>Versión mejorada del shell scripting de Unix.</li> <li>Pensado para procesamiento rápido de archivos de texto y automatización de tareas de administración del sistema.</li> <li>Favorece la programación ágil, rápida y sucia de scripts.</li> <li>Énfasis en las expresiones regulares.</li> <li>Multiparadigma.</li> <li>En combinación con CGI, se popularizó para aplicaciones web antes de la aparición de PHP.</li> </ul> <h3 id="822-configuración-necesaria-en-el-servidor"> <a href="#822-configuración-necesaria-en-el-servidor" class="anchor-heading" aria-labelledby="822-configuración-necesaria-en-el-servidor"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.2.2. Configuración necesaria en el servidor </h3> <p>Para utilizar Perl en un servidor Apache o similar, necesitaremos:</p> <ol> <li>Instalar el intérprete Perl (usr/bin/perl).</li> <li>Activar los módulos perl y/o cgi de Apache y configurar el handler para CGI.</li> <li>Instalar módulos Perl adicionales para acceso a bases de datos, etc.</li> </ol> <p>Se puede ejecutar el intérprete Perl de forma nativa en Apache, o bien hacerlo a través de CGI. Lo primero es más difícil de configurar y raramente se encuentra en hostings web compartidos.</p> <h3 id="823-sintaxis-básica-de-perl"> <a href="#823-sintaxis-básica-de-perl" class="anchor-heading" aria-labelledby="823-sintaxis-básica-de-perl"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.2.3. Sintaxis básica de Perl </h3> <p>Las variables en Perl no se declaran, tienen tipado dinámico y son globales por defecto.</p> <div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$var</span> <span class="o">=</span> <span class="nv">valor</span><span class="p">;</span>
<span class="k">print</span> <span class="p">"</span><span class="s2">La variable var vale </span><span class="si">$variable</span><span class="p">";</span>
</code></pre></div></div> <p>Algunos operadores:</p> <ul> <li>Comparación: lt, gt, le, ge, eq, ne…</li> <li>Asignación: =</li> </ul> <p>Algunas estructuras de control:</p> <div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while</span> <span class="p">(</span><span class="nv">condicion</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">Acciones</span>
<span class="p">}</span>


<span class="k">if</span> <span class="p">(</span><span class="nv">condicion</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">Acciones</span><span class="o">-</span><span class="mi">1</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
  <span class="nv">Acciones</span><span class="o">-</span><span class="mi">2</span>
<span class="p">}</span>
</code></pre></div></div> <h3 id="824-entrada--salida"> <a href="#824-entrada--salida" class="anchor-heading" aria-labelledby="824-entrada--salida"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.2.4. Entrada / salida </h3> <p>Entrada de datos estándar:</p> <div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">chop</span> <span class="p">(</span> <span class="nv">$variable</span> <span class="o">=</span> <span class="o">&lt;</span><span class="bp">STDIN</span><span class="o">&gt;</span> <span class="p">);</span>
</code></pre></div></div> <p>Lectura de datos desde un formulario HTML:</p> <div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">use</span> <span class="nv">CGI</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">$cgi</span> <span class="o">=</span> <span class="nv">CGI</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">$username</span> <span class="o">=</span> <span class="nv">$cgi</span><span class="o">-&gt;</span><span class="nv">param</span><span class="p">("</span><span class="s2">username</span><span class="p">");</span>
</code></pre></div></div> <p>Salida:</p> <div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span> <span class="p">"</span><span class="s2">cadena </span><span class="si">$variable</span><span class="s2"> cadena...</span><span class="p">";</span> 
</code></pre></div></div> <h3 id="825-bibliotecas-funciones-y-clases"> <a href="#825-bibliotecas-funciones-y-clases" class="anchor-heading" aria-labelledby="825-bibliotecas-funciones-y-clases"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.2.5. Bibliotecas, funciones y clases </h3> <p>Para utilizar una biblioteca o <strong><em>package</em></strong>, como se denominan en Perl, se emplea la palabra <strong>use</strong>:</p> <div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">use</span> <span class="nv">nombre</span><span class="o">-</span><span class="nv">biblioteca</span><span class="p">;</span>
</code></pre></div></div> <p>Las bibliotecas se empaquetan en archivos con extensión .pm (<strong><em>Perl Modules</em></strong>). Dentro de ellas, puede haber una colección de funciones o métodos que se declaran así:</p> <div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">package</span> <span class="nv">nombre</span><span class="o">-</span><span class="nv">biblioteca</span><span class="p">;</span>

<span class="nv">Sub</span> <span class="nv">nombre</span><span class="o">-</span><span class="nv">funcion</span> <span class="p">(</span><span class="nv">argumentos</span><span class="p">)</span> <span class="p">{</span>
   <span class="nv">Acciones</span>
<span class="p">}</span>
</code></pre></div></div> <p>Estas funciones pueden usarse desde fuera de la biblioteca con esta sintaxis:</p> <div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">use</span> <span class="nv">nombre</span><span class="o">-</span><span class="nv">biblioteca</span><span class="p">;</span>

<span class="nv">nombre</span><span class="o">-</span><span class="nn">biblioteca::</span><span class="nv">nombre</span><span class="o">-</span><span class="nv">funcion</span><span class="p">(</span><span class="nv">argumentos</span><span class="p">);</span>
</code></pre></div></div> <p>Los <strong><em>packages</em></strong> también pueden usarse para construir clases (o algo parecido) de las que luego se pueden instanciar objetos. Más o menos así:</p> <div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">package</span> <span class="nv">nombre</span><span class="o">-</span><span class="nv">de</span><span class="o">-</span><span class="nv">la</span><span class="o">-</span><span class="nv">clase</span><span class="p">;</span>

  <span class="k">sub </span><span class="nf">new</span> <span class="p">{</span>
      <span class="c1"># Este es el método constructor</span>
      <span class="k">my</span> <span class="nv">$self</span> <span class="o">=</span> <span class="p">{};</span>      <span class="c1"># Array para los atributos</span>
      <span class="nv">$self</span><span class="o">-&gt;</span><span class="p">{</span><span class="nv">VAR1</span><span class="p">}</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>  <span class="c1"># Un atributo</span>
      <span class="nv">$self</span><span class="o">-&gt;</span><span class="p">{</span><span class="nv">VAR2</span><span class="p">}</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>  <span class="c1"># Otro atributo</span>
  <span class="p">}</span>

  <span class="k">sub </span><span class="nf">otro</span><span class="p">-método{</span>
       <span class="c1"># Aquí van el resto de métodos de la clase</span>
  <span class="p">}</span>
  <span class="k">sub </span><span class="nf">DESTROY</span> <span class="p">{</span>
       <span class="c1"># Método destructor</span>
  <span class="p">}</span>
  <span class="mi">1</span>    <span class="c1"># Para que el intérprete Perl no se queje al interpretar este archivo</span>
</code></pre></div></div> <p>Como puedes observar, Perl está lleno de peculiaridades que muchos consideran anticuadas o, como mínimo, poco elegantes. Observa si no la forma que tiene de crear los atributos de instancia, los caprichosos nombres de los métodos (a veces en minúscula, a veces en mayúscula) o la necesidad de terminar el <strong><em>package</em></strong> con un 1 para que el intérprete Perl lo considere un script válido.</p> <p>Por último, para instanciar un objeto de esta clase:</p> <div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">use</span> <span class="nv">nombre</span><span class="o">-</span><span class="nv">de</span><span class="o">-</span><span class="nv">la</span><span class="o">-</span><span class="nv">clase</span><span class="p">;</span>
<span class="nv">$objeto</span> <span class="o">=</span> <span class="nv">nombre</span><span class="o">-</span><span class="nv">de</span><span class="o">-</span><span class="nv">la</span><span class="o">-</span><span class="nv">clase</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">();</span>
</code></pre></div></div> <h3 id="826-ejemplo-1-en-perl-hola-mundo"> <a href="#826-ejemplo-1-en-perl-hola-mundo" class="anchor-heading" aria-labelledby="826-ejemplo-1-en-perl-hola-mundo"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.2.6. Ejemplo 1 en Perl: Hola mundo </h3> <div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/perl</span>
<span class="k">print</span> <span class="p">"</span><span class="s2">Content-type: text/html</span><span class="se">\n\n</span><span class="p">";</span>
<span class="k">print</span> <span class="p">"</span><span class="s2">&lt;html&gt;&lt;title&gt;Hola mundo&lt;/title&gt;&lt;body&gt;</span><span class="p">";</span>
<span class="k">print</span> <span class="p">"</span><span class="s2">Hola, mundo</span><span class="p">";</span>
<span class="k">print</span> <span class="p">"</span><span class="s2">&lt;/body&gt;&lt;/html&gt;</span><span class="p">";</span>
</code></pre></div></div> <h3 id="827-ejemplo-2-en-perl-login-con-comprobación-de-email-por-ajax"> <a href="#827-ejemplo-2-en-perl-login-con-comprobación-de-email-por-ajax" class="anchor-heading" aria-labelledby="827-ejemplo-2-en-perl-login-con-comprobación-de-email-por-ajax"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.2.7. Ejemplo 2 en Perl: login con comprobación de email por Ajax </h3> <p>Este segundo ejemplo, como hemos explicado más arriba, consistirá en un formulario de login que comprobará el nombre de usuario y la contraseña mediante una petición Ajax.</p> <h4 id="formulario-html"> <a href="#formulario-html" class="anchor-heading" aria-labelledby="formulario-html"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Formulario HTML </h4> <p>El formulario de login es un simple código HTML que será idéntico en todos los ejemplos que veremos en el resto de este capítulo, así que solo lo mostraremos aquí por primera vez.</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;form</span> <span class="na">id=</span><span class="s">"loginForm"</span> <span class="na">name=</span><span class="s">"loginForm"</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">action=</span><span class="s">""</span><span class="nt">&gt;</span>
  <span class="nt">&lt;fieldset&gt;</span>
    <span class="nt">&lt;p&gt;</span>
      <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"username"</span><span class="nt">&gt;</span>Nombre de usuario<span class="nt">&lt;/label&gt;</span>
      <span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"username"</span> <span class="na">name=</span><span class="s">"username"</span> <span class="na">class=</span><span class="s">"text"</span> <span class="na">size=</span><span class="s">"20"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>
      <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"password"</span><span class="nt">&gt;</span>Contraseña<span class="nt">&lt;/label&gt;</span>
      <span class="nt">&lt;br</span> <span class="nt">/&gt;</span>
      <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"password"</span> <span class="na">id=</span><span class="s">"password"</span> <span class="na">name=</span><span class="s">"password"</span> <span class="na">class=</span><span class="s">"text"</span> <span class="na">size=</span><span class="s">"20"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>
      <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>Login<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/p&gt;</span>
  <span class="nt">&lt;/fieldset&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre></div></div> <h4 id="script-jquery"> <a href="#script-jquery" class="anchor-heading" aria-labelledby="script-jquery"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Script jQuery </h4> <p>El script que lanza la petición Ajax (cuyo código puede ir en el mismo archivo que el formulario) será <strong><em>casi</em></strong> idéntico en todos los ejemplos: solo cambiará el nombre del script al que se lanza la petición.</p> <p>En nuestro caso actual, es script lo hemos llamado <strong>login.pl</strong> (la extensión .pl denota que se trata de un script escrito en lenguaje Perl). Como es lógico, en ejemplos posteriores, tendrías que cambiar el nombre de ese archivo por el que corresponda (login.py si estamos usando Python, login.rb si estamos usando Ruby, etc).</p> <p>Para no repetirnos innecesariamente, no volveremos a mostrar tampoco el código de este script en los ejemplos sucesivos.</p> <p>Observa que Javascript está esperando que el servidor responda con un JSON que puede llevar estos tres datos en su interior:</p> <ul> <li>data.error: Un string con un texto de error en caso de que el usuario o la contraseña sean incorrectos.</li> <li>data.success: Un string con un texto de éxito en caso de que el usuario y la contraseña sean correctos.</li> <li>data.userId: Un entero con el ID del usuario logueado (solo en caso de éxito).</li> </ul> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">$</span><span class="p">(</span><span class="nb">document</span><span class="p">).</span><span class="nx">ready</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
  <span class="nx">$</span><span class="p">(</span><span class="dl">"</span><span class="s2">form#loginForm</span><span class="dl">"</span><span class="p">).</span><span class="nx">submit</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span> 
    <span class="kd">var</span> <span class="nx">username</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#username</span><span class="dl">'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="dl">'</span><span class="s1">value</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// Obtenemos el username</span>
    <span class="kd">var</span> <span class="nx">password</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">#password</span><span class="dl">'</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="dl">'</span><span class="s1">value</span><span class="dl">'</span><span class="p">);</span> <span class="c1">// Obtenemos la password</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">username</span> <span class="o">&amp;&amp;</span> <span class="nx">password</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// Los valores de username y password no están vacíos</span>
      <span class="nx">$</span><span class="p">.</span><span class="nx">ajax</span><span class="p">({</span>
        <span class="na">type</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GET</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">url</span><span class="p">:</span> <span class="dl">"</span><span class="s2">login.pl</span><span class="dl">"</span><span class="p">,</span> 
        <span class="na">dataType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">json</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">data</span><span class="p">:</span> <span class="dl">"</span><span class="s2">username=</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">username</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">&amp;password=</span><span class="dl">"</span> <span class="o">+</span> <span class="nx">password</span><span class="p">,</span>
        <span class="na">success</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// El servidor ha devuelto un error de login</span>
            <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">div#loginResult</span><span class="dl">'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="dl">"</span><span class="s2">data.error: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">data</span><span class="p">.</span><span class="nx">error</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">div#loginResult</span><span class="dl">'</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="dl">"</span><span class="s2">error</span><span class="dl">"</span><span class="p">);</span>
          <span class="p">}</span> 
          <span class="k">else</span> <span class="p">{</span>            <span class="c1">// El servidor ha hecho el login correctamente</span>
            <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">form#loginForm</span><span class="dl">'</span><span class="p">).</span><span class="nx">hide</span><span class="p">();</span>
            <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">div#loginResult</span><span class="dl">'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="dl">"</span><span class="s2">data.success: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">data</span><span class="p">.</span><span class="nx">success</span> 
              <span class="o">+</span> <span class="dl">"</span><span class="s2">, data.userid: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">data</span><span class="p">.</span><span class="nx">userid</span><span class="p">);</span>
            <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">div#loginResult</span><span class="dl">'</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">);</span>
          <span class="p">}</span> 
        <span class="p">}</span> 
      <span class="p">});</span> 
    <span class="p">}</span> 
    <span class="k">else</span> <span class="p">{</span>
      <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">div#loginResult</span><span class="dl">'</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="dl">"</span><span class="s2">Debe escribir su nombre de usuario y su contraseña</span><span class="dl">"</span><span class="p">);</span>
      <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">div#loginResult</span><span class="dl">'</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="dl">"</span><span class="s2">error</span><span class="dl">"</span><span class="p">);</span>
    <span class="p">}</span> 
    <span class="nx">$</span><span class="p">(</span><span class="dl">'</span><span class="s1">div#loginResult</span><span class="dl">'</span><span class="p">).</span><span class="nx">fadeIn</span><span class="p">();</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div> <h4 id="script-perl-en-el-lado-del-servidor-loginpl"> <a href="#script-perl-en-el-lado-del-servidor-loginpl" class="anchor-heading" aria-labelledby="script-perl-en-el-lado-del-servidor-loginpl"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Script Perl en el lado del servidor (login.pl) </h4> <p>Este sería el script en Perl que respondería a la petición Ajax anterior.</p> <p>Observa que, a pesar de la peculiar sintaxis de Perl, la estructura del algoritmo es idéntica a la que usaríamos si lo escribiéramos en PHP:</p> <ol> <li>Recuperamos los datos del formulario (username y password)</li> <li>Conectamos con la base de datos</li> <li>Lanzamos la consulta contra la tabla de usuarios</li> <li>En función del resultado de la consulta, preparamos nuestro JSON de respuesta al cliente</li> <li>Devolvemos el JSON al cliente</li> </ol> <div class="language-perl highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/perl -T</span>
<span class="k">use</span> <span class="nv">CGI</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">DBI</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">strict</span><span class="p">;</span>
<span class="k">use</span> <span class="nv">warnings</span><span class="p">;</span>

<span class="c1"># read the CGI params</span>
<span class="k">my</span> <span class="nv">$cgi</span> <span class="o">=</span> <span class="nv">CGI</span><span class="o">-&gt;</span><span class="k">new</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">$username</span> <span class="o">=</span> <span class="nv">$cgi</span><span class="o">-&gt;</span><span class="nv">param</span><span class="p">("</span><span class="s2">username</span><span class="p">");</span>
<span class="k">my</span> <span class="nv">$password</span> <span class="o">=</span> <span class="nv">$cgi</span><span class="o">-&gt;</span><span class="nv">param</span><span class="p">("</span><span class="s2">password</span><span class="p">");</span>

<span class="c1"># connect to the database</span>
<span class="k">my</span> <span class="nv">$dbh</span> <span class="o">=</span> <span class="nv">DBI</span><span class="o">-&gt;</span><span class="nb">connect</span><span class="p">("</span><span class="s2">DBI:mysql:database=mydb;host=localhost;port=2009</span><span class="p">",</span>  
  <span class="p">"</span><span class="s2">mydbusername</span><span class="p">",</span> <span class="p">"</span><span class="s2">mydbpassword</span><span class="p">")</span> 
  <span class="ow">or</span> <span class="nb">die</span> <span class="nv">$</span><span class="nn">DBI::</span><span class="nv">errstr</span><span class="p">;</span>

<span class="c1"># check the username and password in the database</span>
<span class="k">my</span> <span class="nv">$statement</span> <span class="o">=</span> <span class="sx">qq{SELECT id FROM users WHERE username=? and password=?}</span><span class="p">;</span>
<span class="k">my</span> <span class="nv">$sth</span> <span class="o">=</span> <span class="nv">$dbh</span><span class="o">-&gt;</span><span class="nv">prepare</span><span class="p">(</span><span class="nv">$statement</span><span class="p">)</span>
  <span class="ow">or</span> <span class="nb">die</span> <span class="nv">$dbh</span><span class="o">-&gt;</span><span class="nv">errstr</span><span class="p">;</span>
<span class="nv">$sth</span><span class="o">-&gt;</span><span class="nv">execute</span><span class="p">(</span><span class="nv">$username</span><span class="p">,</span> <span class="nv">$password</span><span class="p">)</span>
  <span class="ow">or</span> <span class="nb">die</span> <span class="nv">$sth</span><span class="o">-&gt;</span><span class="nv">errstr</span><span class="p">;</span>
<span class="k">my</span> <span class="p">(</span><span class="nv">$userID</span><span class="p">)</span> <span class="o">=</span> <span class="nv">$sth</span><span class="o">-&gt;</span><span class="nv">fetchrow_array</span><span class="p">;</span>

<span class="c1"># create a JSON string according to the database result</span>
<span class="k">my</span> <span class="nv">$json</span> <span class="o">=</span> <span class="p">(</span><span class="nv">$userID</span><span class="p">)</span> <span class="p">?</span> 
  <span class="nv">qqsuccess</span> <span class="p">:</span> 
  <span class="nv">qqerror</span><span class="p">;</span>

<span class="c1"># return JSON string</span>
<span class="k">print</span> <span class="nv">$cgi</span><span class="o">-&gt;</span><span class="nv">header</span><span class="p">(</span><span class="o">-</span><span class="s">type</span> <span class="o">=&gt;</span> <span class="p">"</span><span class="s2">application/json</span><span class="p">",</span> <span class="o">-</span><span class="s">charset</span> <span class="o">=&gt;</span> <span class="p">"</span><span class="s2">utf-8</span><span class="p">");</span>
<span class="k">print</span> <span class="nv">$json</span><span class="p">;</span>
</code></pre></div></div> <h2 id="83-python"> <a href="#83-python" class="anchor-heading" aria-labelledby="83-python"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3. Python </h2> <h3 id="831-características-del-lenguaje-python"> <a href="#831-características-del-lenguaje-python" class="anchor-heading" aria-labelledby="831-características-del-lenguaje-python"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.1. Características del lenguaje Python </h3> <p>Fecha de aparición: 1991</p> <p>Perspectivas:</p> <ul> <li>Uso creciente.</li> <li>Es el sustituto natural de Perl para el desarrollo rápido de scripts.</li> <li>También usado en grandes proyectos como alternativa a PHP.</li> <li>Menos extendido que PHP, pero comunidad con muchos desarrolladores profesionales (mejor relación señal/ruido)</li> <li>Muchas bibliotecas de terceros → flexibilidad</li> </ul> <p>Filosofía:</p> <ul> <li>Es la versión “limpia” de Perl. Pensado para escribir scripts de forma rápida y limpia.</li> <li>Énfasis en la legibilidad: Python es casi pseudocódigo (código “pythonico” → v. “El Zen de Python”)</li> <li>Interpretado. Tipado dinámico. Fuertemente tipado.</li> <li>Expresiones regulares heredadas de Perl.</li> <li>Multiparadigma: imperativo, O.O., funcional.</li> </ul> <h3 id="832-configuración-necesaria-en-el-servidor"> <a href="#832-configuración-necesaria-en-el-servidor" class="anchor-heading" aria-labelledby="832-configuración-necesaria-en-el-servidor"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.2. Configuración necesaria en el servidor </h3> <p>Para hacer funcionar Python en un servidor Apache o similar, es necesario:</p> <ol> <li>Instalar el intérprete Python (/usr/bin/python). El más extendido es CPhyton.</li> <li>Activar los módulos python y/o cgi de Apache y configurar el handler de Apache para CGI.</li> <li>Instalar módulos adicionales (p. ej: para acceso a bases de datos) si es necesario.</li> </ol> <p>Python puede funcionar de forma nativa integrado en Apache o a través de CGI. Lo primero es más rápido; lo segundo, más frecuente.</p> <h3 id="833-sintaxis-básica-de-python"> <a href="#833-sintaxis-básica-de-python" class="anchor-heading" aria-labelledby="833-sintaxis-básica-de-python"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.3. Sintaxis básica de Python </h3> <p>Las variables en Python no se declaran obligatoriamente: tienen tipado dinámico y son locales por defecto.</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">varariable</span> <span class="o">=</span> <span class="n">valor</span><span class="p">;</span>
<span class="k">print</span> <span class="s">"La variable var vale %s"</span> <span class="p">(</span><span class="n">variable</span><span class="p">);</span>
</code></pre></div></div> <p>En Python hay muchos tipos de datos complejos predefinidos: listas, tuplas, diccionarios…</p> <p>Algunos operadores son:</p> <ul> <li>Comparación: &lt;, &gt;, &lt;=, &gt;=, ==, !=</li> <li>Asignación: =</li> </ul> <p>Y estas son algunas estructuras de control. <strong>¡Cuidado! ¡El código debe indentarse OBLIGATORIAMENTE!</strong> No existen las llaves ({ y }) en Python. ¡La indentación (o sangrado) marca los bloques!</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while</span> <span class="n">condicion</span><span class="p">:</span>
  <span class="n">Acciones</span>

<span class="k">if</span> <span class="n">condicion</span><span class="p">:</span>
  <span class="n">Acciones</span><span class="o">-</span><span class="mi">1</span>
<span class="k">else</span><span class="p">:</span>
  <span class="n">Acciones</span><span class="o">-</span><span class="mi">2</span>
</code></pre></div></div> <h3 id="834-entrada--salida"> <a href="#834-entrada--salida" class="anchor-heading" aria-labelledby="834-entrada--salida"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.4. Entrada / Salida </h3> <p>La entrada de datos por teclado puede hacerse con raw_input():</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">variable</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">"Texto"</span><span class="p">)</span>
</code></pre></div></div> <p>Pero a nosotros nos interesa hacer entrada de datos a través de un formulario HTML. Esto se hace así:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">cgi</span>
<span class="n">form</span> <span class="o">=</span> <span class="n">cgi</span><span class="p">.</span><span class="n">FieldStorage</span><span class="p">()</span>
<span class="n">campo</span> <span class="o">=</span> <span class="n">form</span><span class="p">[</span><span class="s">"campo"</span><span class="p">].</span><span class="n">value</span>
</code></pre></div></div> <p>En cuanto a la salida de datos, se usa <strong><em>print</em></strong> con cadenas de formato, seguida de una lista de variables. Cada elemento de la cadena de formato marcado con un % se sustituirá por una variable de la lista, en el mismo orden en el que estén escritas. Por ejemplo:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">print</span> <span class="s">"cadena %s cadena %s ..."</span> <span class="p">(</span><span class="n">variable1</span><span class="p">,</span> <span class="n">variable2</span><span class="p">)</span> 
</code></pre></div></div> <p>El símbolo %s significa que en esa posición irá un String. Otras posibilidades son %d (enteros) o %f (float). Esta forma de especificar las cadenas de formato está directamente tomada del lenguaje C.</p> <p>En Python existen muchas otras formas de hacer una salida de datos, pero <strong><em>print</em></strong> es lo suficientemente potente como para que puedas utilizarla para cualquier cosa imaginable en una aplicación web.</p> <h3 id="835-bibliotecas-funciones-y-clases"> <a href="#835-bibliotecas-funciones-y-clases" class="anchor-heading" aria-labelledby="835-bibliotecas-funciones-y-clases"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.5. Bibliotecas, funciones y clases </h3> <p>En Python hay tres niveles de agrupación de bibliotecas:</p> <ul> <li>Módulos: un módulo es un fichero con código Python en su interior. Puede ser una clase o un puñado de funciones sueltas, por ejemplo.</li> <li>Paquetes (<em>packages</em>): un paquete es un directorio que contiene varios módulos. También puede contener subpaquetes. Los paquetes se instalan y desinstalan con un gestor de paquetes (como <em>pip</em>, que viene a ser como <em>composer</em> en PHP).</li> <li>Bibliotecas (<em>libraries</em>): una biblioteca es cualquier fragmento de código reutilizable que se puede incluir en otros proyectos. Las bibliotecas pueden ser paquetes o no. Existe una <em>Python Standard Library</em> que contiene todas las funciones básicas de Python y viene preinstalada con el <em>core</em> del lenguaje.</li> </ul> <p>Podemos incluir una librería en nuestro proyecto Python usando la palabra <em>import</em>:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">mi</span><span class="o">-</span><span class="n">librería</span>
</code></pre></div></div> <p>Como hemos dicho, dentro de cada módulo puede haber clases o subrutinas sueltas. Una subrutina (procedimiento o función) se declara así en Python (observa de nuevo como la indentación o sangrado es fundamental porque marca el comienzo y final de los bloques de código):</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">mi</span><span class="o">-</span><span class="n">funcion</span><span class="p">(</span><span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">,</span> <span class="n">etc</span><span class="p">):</span>
    <span class="c1"># Aquí va el código de la función
</span>    <span class="p">[</span><span class="k">return</span> <span class="n">valor1</span><span class="p">,</span> <span class="n">varlor2</span><span class="p">...]</span>
</code></pre></div></div> <p>En cuanto a las clases, la sintaxis para declararlas y muy similar a PHP, Java o C++ (recordando que, en Python, no se usan las llaves sino la indentación):</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MyClass</span><span class="p">:</span>
    
    <span class="n">un_atributo</span> <span class="o">=</span> <span class="n">valor</span>
    <span class="n">otro_atributo</span> <span class="o">=</span> <span class="n">valor</span>

    <span class="c1"># Esto es un constructor
</span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">un_atributo</span> <span class="o">=</span> <span class="mi">0</span>
 

    <span class="k">def</span> <span class="nf">un_metodo</span><span class="p">(</span><span class="n">parámetros</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">lo_que_sea</span>
</code></pre></div></div> <h3 id="836-ejemplo-1-en-python-hola-mundo"> <a href="#836-ejemplo-1-en-python-hola-mundo" class="anchor-heading" aria-labelledby="836-ejemplo-1-en-python-hola-mundo"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.6. Ejemplo 1 en Python: Hola mundo </h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/python
</span><span class="k">print</span> <span class="s">"Content-type: text/html</span><span class="se">\n\n</span><span class="s">"</span>
<span class="k">print</span> <span class="s">"&lt;html&gt;&lt;body&gt;"</span>
<span class="k">print</span> <span class="s">"&lt;h1&gt;Hola, mundo&lt;/h1&gt;"</span>
<span class="k">print</span> <span class="s">"&lt;/body&gt;&lt;/html&gt;"</span>
</code></pre></div></div> <h3 id="837-ejemplo-2-en-python-login-con-comprobación-de-email-por-ajax"> <a href="#837-ejemplo-2-en-python-login-con-comprobación-de-email-por-ajax" class="anchor-heading" aria-labelledby="837-ejemplo-2-en-python-login-con-comprobación-de-email-por-ajax"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.3.7. Ejemplo 2 en Python: login con comprobación de email por Ajax </h3> <p>Repetimos ahora el ejemplo del login con comprobación de usuario y contraseña mediante Ajax, pero no mostraremos de nuevo el código del formulario ni de la llamada Ajax. Para ver ese código, revisa la sección que dedicamos al lenguaje Perl. Allí solo tendrás que cambiar el nombre del script (login.pl) por login.py.</p> <p>El código de ese script sí que cambia, claro. Esta es la versión del mismo escrita en Python:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/python
</span>
<span class="kn">import</span> <span class="nn">cgi</span>
<span class="kn">import</span> <span class="nn">MySQLdb</span> 

<span class="c1"># Capturamos los valores del formulario
</span><span class="n">form</span> <span class="o">=</span> <span class="n">cgi</span><span class="p">.</span><span class="n">FieldStorage</span><span class="p">()</span>
<span class="n">usuario</span> <span class="o">=</span> <span class="n">form</span><span class="p">[</span><span class="s">"username"</span><span class="p">].</span><span class="n">value</span><span class="p">;</span>
<span class="n">password</span> <span class="o">=</span> <span class="n">form</span><span class="p">[</span><span class="s">"password"</span><span class="p">].</span><span class="n">value</span><span class="p">;</span>

<span class="k">print</span> <span class="s">"Usuario = "</span><span class="p">,</span> <span class="n">usuario</span><span class="p">,</span> <span class="s">" Pass = "</span><span class="p">,</span> <span class="n">password</span>

<span class="c1"># Lanzamos la consulta contra la base de datos
</span><span class="n">db</span><span class="o">=</span><span class="n">MySQLdb</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s">'localhost'</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s">'yo-que-sé'</span><span class="p">,</span> <span class="n">passwd</span><span class="o">=</span><span class="s">'vete-a-saber'</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s">'lo-que-sea'</span><span class="p">)</span>
<span class="n">cursor</span><span class="o">=</span><span class="n">db</span><span class="p">.</span><span class="n">cursor</span><span class="p">()</span>
<span class="n">num_rows</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="n">execute</span><span class="p">(</span><span class="s">"SELECT id FROM users WHERE username = '%s' AND password = '%s';"</span><span class="p">,</span> <span class="p">(</span><span class="n">usuario</span><span class="p">,</span> <span class="n">password</span><span class="p">))</span>
<span class="n">userid</span> <span class="o">=</span> <span class="n">cursor</span><span class="p">.</span><span class="n">fetchone</span><span class="p">()</span>

<span class="c1"># return JSON string
</span><span class="k">print</span> <span class="s">"Content-type: application/json</span><span class="se">\n</span><span class="s">"</span>
<span class="k">if</span> <span class="n">num_rows</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
   <span class="k">print</span> <span class="s">"{'error': 'Usuario o contrase&amp;ntilde;a incorrectos'}"</span>
<span class="k">else</span><span class="p">:</span>
   <span class="k">print</span> <span class="s">"{'success': 'El usuario y la contrase&amp;ntilde;a son v&amp;aacute;lidos', 'userid': '%d'"</span><span class="p">,</span> <span class="n">userid</span>
</code></pre></div></div> <h2 id="84-net"> <a href="#84-net" class="anchor-heading" aria-labelledby="84-net"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4. .NET </h2> <p>XXX</p> <h3 id="841-características-de-net"> <a href="#841-características-de-net" class="anchor-heading" aria-labelledby="841-características-de-net"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.1. Características de .NET </h3> <p>Fecha de aparición: 1996 (ASP) / 2002 (.NET)</p> <p>Perspectivas:</p> <ul> <li>Alternativa de Microsoft a JSP para desarrollo de grandes proyectos, donde PHP se queda pequeño.</li> <li>Componentes exclusivos en el servidor y altas prestaciones.</li> <li>Coste más elevado y problemas de seguridad endémicos.</li> </ul> <p>Filosofía:</p> <ul> <li>Framework de código cerrado y propietario.</li> <li>Tecnología multilenguaje. Suele correr con VBS (Visual Basic Script), pero puede hacerlo con otros.</li> <li>Puede funcionar como PHP, embebido dentro de HTML.</li> <li>ASP.Net incluye controles de servidor exclusivos de Microsoft (equivalentes a los ActiveX del lado del cliente)</li> </ul> <h3 id="842-configuración-necesaria-en-el-servidor"> <a href="#842-configuración-necesaria-en-el-servidor" class="anchor-heading" aria-labelledby="842-configuración-necesaria-en-el-servidor"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.2. Configuración necesaria en el servidor </h3> <p>Instalar Microsoft IIS (Internet Information Server). Viene de serie en los Windows Server. Puede ejecutarse con un módulo de apache (mono), pero es mucho más lento. Cada lenguaje tiene su servidor. Si quieres PHP, usa Apache. Si quieres JSP, usa Tomcat. Si quieres ASP, usa IIS.</p> <h3 id="843-sintaxis-básica-de-net-con-vbasic"> <a href="#843-sintaxis-básica-de-net-con-vbasic" class="anchor-heading" aria-labelledby="843-sintaxis-básica-de-net-con-vbasic"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8.4.3. Sintaxis básica de .NET con VBasic </h3> <p>Embeber el código ASP (VBS) en HTML</p><html><head>...</head> <body> Este texto se ha generado desde HTML<br /> &lt;% response.write("Y este se ha generado con ASP") % &lt;/body &lt;/html&gt; No es necesario declarar las variables de tipo simple, pero puede hacerse: Dim i,j,k As Integer Algunos operadores: Comparación: &lt;, &gt;, &lt;=, &gt;=, =, &lt;&gt; Asignación: = Algunas estructuras de control do while (condicion) Acciones loop if (condicion) then Acciones-1 else Acciones-2 end if ### 8.4.4. Entrada / Salida // Leer datos de un formulario (GET): variable = request.QueryString("campo"); // Leer datos de un formulario (POST): variable = request.Form("campo"); // Salida: response.write ("cadena" + variable + "cadena2"); ### 8.4.5. Bibliotecas, funciones y clases Subrutinas sub nombre(parametros) Acciones; end sub Bibliotecas &lt;% @Import Namespace="Biblioteca" %&gt; ### 8.4.6. Ejemplo 1 en VBasic: Hola mundo &lt;% response.write("<html><body>") response.write(" <h1> Hola, mundo </h1> ") response.write("</body></html>") %&gt; ### 8.4.7. Ejemplo 2 en VBasic: login con comprobación de email por Ajax url: "/ruta/al/script.asp", // URL of the ASP script Script ASP en el lado del servidor (login.asp) &lt;% # connect to the database strDSN= "DRIVER={MySQL ODBC 3.51 driver}; Server=localhost; Database=prueba; User=root; Password=xxxx" con = Server.CreateObject("ADODB.Connection") con.Open strDSN # retrieve the form params name = request.Form("username"); pass = request.Form("password"); # check username and password in the database rs = con.Execute("SELECT id FROM users WHERE user = '" + name + "' AND password = '" + pass + "'"); # generate ouput JSON string if (rs.eof) Response.Write "{'error': 'Username or password not valid'}" else Response.Write "{'success': 'Authentication is OK', 'userid': "+ rs("id") + "}"); con.close %&gt; ## 8.5. JSP ### 8.5.1. Características del lenguaje JSP Fecha de aparición: 1995 Perspectivas: * Usado para proyectos grandes y complejos, donde PHP (y otros lenguajes de scripting) se quedan pequeños. * El lenguaje de programación es Java, es decir, lo conoce cualquier programador. * Velocidad de ejecución superior a la de otros lenguajes semi-interpretados. Filosofía: * Adaptación natural de Java al lado del servidor. * Orientado a objetos. Multiplataforma. Fuertemente tipado. * Puede embeberse dentro de HTML, como PHP. * El código Java se precompila en un Servlet y se deja cargado en la memoria del servidor. Las peticiones subsiguientes se ejecutan así mucho más rápidas. ### 8.5.2. Configuración necesaria en el servidor Instalar Tomcat. Es el servidor de referencia para la tecnología JSP. JSP se puede ejecutar como CGI, pero resulta mucho más lento. ### 8.5.3. Sintaxis básica de JSP Embeber el código JSP en HTML<html><head>...</head> <body> Este texto se ha generado desde HTML<br /> &lt;% out.println("Y este se ha generado con JSP"); %&gt; </body> </html> Las variables se declaran como en cualquier programa Java: int var = 5; out.print("La variable var vale " + var); Algunos operadores: Comparación: &lt;, &gt;, &lt;=, &gt;=, ==, != Asignación: = Algunas estructuras de control while (condicion) { Acciones } if (condicion) { Acciones-1 } else { Acciones-2 } ### 8.5.4. Entrada / Salida // Leer datos de un formulario: variable = request.getParameter("campo"); // Salida: out.println ("cadena" + variable + "cadena2"); ### 8.5.5. Bibliotecas, funciones y clases Clases y métodos class mi-clase extends clase-madre { public|private|protected tipo nombre(params) { Acciones; } } Módulos import modulo; ### 8.5.6. Ejemplo 1 en JSP: Hola mundo &lt;% out.println("<html><body>"); out.println(" <h1> Hola, mundo </h1> "); out.println("</body></html>"); %&gt; ### 8.5.7. Ejemplo 2 en JSP: login con comprobación de email por Ajax url: "/ruta/al/script.jsp", // URL of the JSP script Script JSP en el lado del servidor (login.jsp) &lt;% @page import="java.sql.*" # connect to the database Connection conex = null; Statement st = null; Class.forName("org.gjt.mm.mysql.Driver"); conex = DriverManager.getConnection("jdbc:mysql://servidor", "user", "pass"); # retrieve the form params name = request.getParameter("username"); pass = request.getParameter("password"); # check username and password in the database st = conex.createStatement(); ResultSet = st.executeQuery("SELECT id FROM users WHERE user = '" + name + "' AND password = '" + pass + "'"); # generate ouput JSON string if (st.EOF) out.println("{'error': 'Username or password not valid'}"); else out.println("{'success': 'Authentication is OK', 'userid':"+ ResultSet.getInt() + "}"); conex.close() %&gt; ## 8.6. Ruby ### 8.6.1. Características del lenguaje Ruby Fecha de aparición: 1995 Perspectivas: * Uso y popularidad creciente. * Base de programadores fiel y especializada. * Excelente relación señal/ruido. * Aún tiene que resolver algunas cosas: * El lenguaje todavía está en fase de importantes cambios. * Tiene peor rendimiento que Python o PHP. * Muchos módulos (gemas) están mal documentados. Filosofía: * Completa – y verdaderamente – orientado a objetos. Todo es un objeto. * Admite otros paradigmas ocultos bajo los objetos. * “Rápido y fácil”. Es un lenguaje divertido: de programadores para programadores. * Curva de aprendizaje larga pero nunca abrupta. * Lenguaje de scripting Unix: expresiones regulares. * En combinación con Rails, ideal para desarrollo web MVC rápido y basado en prototipos. **¿Y Ruby on Rails?** Rails es un framework para desarrollar aplicaciones web MVC con Ruby. Apareció en 2004 y gustó tanto que otros frameworks para otros lenguajes (como CodeIgniter para PHP) copiaron su forma de trabajar: Abundantes capas de abstracción para evitar tareas de bajo nivel, como ActiveRecord. Scaffolding Integración con Ajax mediante jQuery, Prototype o Script.aculo.us CoC &amp; DRY (Convention over Configuration &amp; Don't Repeat Yourself) ### 8.6.2. Configuración necesaria en el servidor Instalar el intérprete Ruby en el sistema. Instalar el módulo de Ruby (mod_ruby) y/o el módulo cgi (mod_cgi) para Apache. Configurar el manejador de Apache para CGI. Instalar módulos adicionales para Ruby (como cgi o mysql) si son necesarios. Como en el caso de Perl o Python, Ruby puede correr de forma nativa en Apache (más rápido pero menos frecuente) o como script CGI. ### 8.6.3### 8.6.4. . Sintaxis básica de Ruby No es necesario declarar las variables. El tipado es dinámico (duck) Todo es un objeto, incluso números enteros o valores constantes: 5.isEven? "cadena".lenght variable_cadena.chop! Algunos operadores: Comparación: &lt;, &gt;, &lt;=, &gt;=, =, != Asignación: = Algunas estructuras de control while condicion Acciones end if condicion Acciones-1 else Acciones-2 end Sin embargo, el uso de bucles clásicos casi siempre puede sustituirse por iteradores sobre objetos: variable_array.do_each ... end num_rows.times do ... end ### 8.6.4. Entrada / Salida // Leer datos de un formulario require "cgi" cgi = CGI.new variable = cgi["campo"]; // Salida: print "cadena", variable, "cadena2", ... ### 8.6.5. Bibliotecas, funciones y clases class nombre_clase &lt; clase-madre def nombre(parametros) Acciones; end end Bibliotecas (gemas) include "modulo" require "modulo" ### 8.6.6. Ejemplo 1 en Ruby: Hola mundo #!/usr/bin/ruby print "Content-Type: text/html\n\n" print "<html><body>" print " <h1> Hola, mundo </h1> " print "</body></html>" ### 8.6.7. Ejemplo 2 en Ruby: login con comprobación de email por Ajax url: "/cgi-bin/login.rb", // URL of the Ruby script Script Ruby en el lado del servidor (login.rb) #!/usr/bin/ruby require "mysql" require "cgi" begin # connect to the database con = Mysql.new 'server', 'db-user', 'db-password', 'db-name' # retrieve the form params cgi = CGI.new name = cgi["username"] pass = cgi["password"] # check username and password in the database res = con.query("SELECT id FROM users WHERE user = '#{name}' AND password = '#{pass}'") # generate ouput JSON string print "Content-type: application/json\n\n" if res.num_rows == 0 print %Q!{"error": "Username or password not valid"}! else row = res.fetch_hash print %Q!{"success": "Authentication is OK", "userid": "#{row['id']}" }! end con.close if con end ## 8.7. NodeJS TODO ### 8.7.1. Características del lenguaje NodeJS Fecha de aparición: XXX Perspectivas: * TODO Filosofía: * TODO ### 8.7.2. Configuración necesaria en el servidor TODO ### 8.7.3. Sintaxis básica de NodeJS TODO ### 8.7.4. Entrada / Salida con NodeJS TODO ### 8.7.5. Bibliotecas, funciones y clases TODO ### 8.7.6. Ejemplo 1 en NodeJS: Hola mundo TODO ### 8.7.7. Ejemplo 2 en NodeJS: login con comprobación de email por Ajax TODO ## 8.8. Y otras tecnologías aún más extrañas Además de los lenguajes que hemos visto, existen otras alternativas a PHP para desarrollar aplicaciones web en el lado del servidor. A continuación mostramos una lista con alguna de estas alternativas (no están todas las que son, pero sí son todas las que están) para quien quiera profundizar aún más en el asunto: ### 8.2.1. ColdFusion ColdFusion es la alternativa de Adobe. ColdFusion es al mismo tiempo un servidor de aplicaciones y un lenguaje de programación. Utiliza elementos &lt;...&gt; para insertar su código en la página web y, lógicamente, interacciona de manera óptima con otros productos de Adobe, como Flash. Los archivos tienen extensión .cfm. Se diseñó para tener un rendimiento muy elevado (por ejemplo, aprovecha bien la presencia de múltiples procesadores en el servidor) ### 8.2.2. WebDNA WebDNA es un lenguaje especialmente diseñado para hacer scripting del lado del servidor (no como PHP, Perl, Python o Ruby, que fueron pensados para otros propósitos). Especialmente rápido en la interacción con bases de datos. Utiliza etiquetas encerradas entre corchetes [...] para intercalar su código con HTML. ### 8.2.3. Erlang Se trata de un lenguaje para desarrollo de aplicaciones concurrentes (es decir, en las que varios procesos se ejecutan simultáneamente, cooperando en la resolución de un problema). Fue diseñado para sistemas en tiempo real. Se está empezando a usar en el lado del servidor cuando las aplicaciones tienen necesidades de procesamiento brutales. ### 8.2.4. Otros SSJS (SSJS = Server Side JavaScript): hace mucho tiempo que se especula con la posibilidad de programar scripts del lado del servidor en JavaScript. Al fin y al cabo, JS es un lenguaje dominado por cualquier desarrollador web. No existe por ahora ninguna solución estandarizada: a veces, el JS se traduce a Java para ejecutarlo como JSP, otras veces se compila a código nativo del servidor (como hace NodeJS), otras veces se instala un plugin en el servidor para ejecutarlo nativamente, o bien se reduce su uso sólo a generar y procesar información JSON, etc. JS en el lado del servidor necesita siempre de librerías adicionales para acceder a los recursos del servidor (p.ej: bases de datos) </body></html> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
