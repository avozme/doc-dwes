<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>2 Introducción a PHP - DAW DOCS</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>2 Introducción a PHP | DAW DOCS</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="2 Introducción a PHP" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Apuntes del módulo de “Desarrollo web en entorno servidor”, de 2º curso del Ciclo Formativo de Grado Superior de “Desarrollo de Aplicaciones Web”, impartido en el IES Celia Viñas de Almería (España)" /> <meta property="og:description" content="Apuntes del módulo de “Desarrollo web en entorno servidor”, de 2º curso del Ciclo Formativo de Grado Superior de “Desarrollo de Aplicaciones Web”, impartido en el IES Celia Viñas de Almería (España)" /> <link rel="canonical" href="/php/" /> <meta property="og:url" content="/php/" /> <meta property="og:site_name" content="DAW DOCS" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="2 Introducción a PHP" /> <script type="application/ld+json"> {"@type":"WebPage","url":"/php/","headline":"2 Introducción a PHP","description":"Apuntes del módulo de “Desarrollo web en entorno servidor”, de 2º curso del Ciclo Formativo de Grado Superior de “Desarrollo de Aplicaciones Web”, impartido en el IES Celia Viñas de Almería (España)","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> DAW DOCS </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/" class="nav-list-link">Desarrollo Web en Entorno Servidor</a><ul class="nav-list "><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/cms/" class="nav-list-link">1 Sistemas gestores de contenido (CMS)</a><ul class="nav-list"><li class="nav-list-item "> <a href="/cms/algunas-cosas-que-debes-saber" class="nav-list-link">1.1 Algunas cosas que debes saber sobre los CMS</a> </li><li class="nav-list-item "> <a href="/cms/wordpress" class="nav-list-link">1.2 Wordpress</a> </li><li class="nav-list-item "> <a href="/cms/moodle" class="nav-list-link">1.3 Moodle</a> </li><li class="nav-list-item "> <a href="/cms/prestashop" class="nav-list-link">1.4 Prestashop</a> </li></ul></li><li class="nav-list-item active"><a href="/php/" class="nav-list-link active">2 Introducción a PHP</a></li><li class="nav-list-item "><a href="/cookies-sesiones-seguridad/" class="nav-list-link">3 Cookies, sesiones y seguridad</a></li><li class="nav-list-item "><a href="/mvc/" class="nav-list-link">4 Arquitectura MVC</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/laravel/" class="nav-list-link">5 Laravel</a><ul class="nav-list"><li class="nav-list-item "> <a href="/laravel/1" class="nav-list-link">5.1 Frameworks PHP MVC</a> </li><li class="nav-list-item "> <a href="/laravel/2" class="nav-list-link">5.2 Características de Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/3" class="nav-list-link">5.3 Instalación de Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/4" class="nav-list-link">5.4 Arquitectura, convenciones y configuración de Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/5" class="nav-list-link">5.5 Artisan</a> </li><li class="nav-list-item "> <a href="/laravel/6" class="nav-list-link">5.6 Primeros pasos con Laravel. Hola mundo</a> </li><li class="nav-list-item "> <a href="/laravel/7" class="nav-list-link">5.7 Enrutamiento</a> </li><li class="nav-list-item "> <a href="/laravel/8" class="nav-list-link">5.8 Vistas y plantillas. Blade</a> </li><li class="nav-list-item "> <a href="/laravel/9" class="nav-list-link">5.9 Controladores</a> </li><li class="nav-list-item "> <a href="/laravel/10" class="nav-list-link">5.10 Migraciones</a> </li><li class="nav-list-item "> <a href="/laravel/11" class="nav-list-link">5.11 Usando la BD con Eloquent</a> </li><li class="nav-list-item "> <a href="/laravel/12" class="nav-list-link">5.12 Usando la BD con QueryBuilder</a> </li><li class="nav-list-item "> <a href="/laravel/13" class="nav-list-link">5.13 Sesiones con Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/14" class="nav-list-link">5.14 Helpers de Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/15" class="nav-list-link">5.15 Flujo de trabajo típico con Laravel</a> </li><li class="nav-list-item "> <a href="/laravel/16" class="nav-list-link">5.16 Laravel y Vue.js</a> </li><li class="nav-list-item "> <a href="/laravel/17" class="nav-list-link">5.17 Aspectos avanzados de Laravel</a> </li></ul></li><li class="nav-list-item "><a href="/servicios-web/" class="nav-list-link">6 Servicios web</a></li><li class="nav-list-item "><a href="/ajax/" class="nav-list-link">7 Ajax</a></li><li class="nav-list-item "><a href="/otras-tecnologias/" class="nav-list-link">8 Otras tecnologías</a></li><li class="nav-list-item "><a href="/scv-git/" class="nav-list-link">Anexo I. Sistemas de control de versiones. Git</a></li></ul></li><li class="nav-list-item"><a href="/about/" class="nav-list-link">About</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search DAW DOCS" aria-label="Search DAW DOCS" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/">Desarrollo Web en Entorno Servidor</a></li> <li class="breadcrumb-nav-list-item"><span>2 Introducción a PHP</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="2-introducción-a-php"> <a href="#2-introducción-a-php" class="anchor-heading" aria-labelledby="2-introducción-a-php"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Introducción a PHP </h1> <details open=""> <summary class="text-delta"> Table of contents </summary> <ul id="markdown-toc"> <li><a href="#21-programación-cliente-servidor" id="markdown-toc-21-programación-cliente-servidor">2.1. Programación cliente-servidor</a> <ul> <li><a href="#211-un-poco-de-jerga-informática" id="markdown-toc-211-un-poco-de-jerga-informática">2.1.1. Un poco de jerga informática</a></li> <li><a href="#212-una-petición-web-en-la-época-10" id="markdown-toc-212-una-petición-web-en-la-época-10">2.1.2. Una petición web en la época 1.0</a></li> <li><a href="#213-una-petición-web-en-la-época-20" id="markdown-toc-213-una-petición-web-en-la-época-20">2.1.3. Una petición web en la época 2.0</a></li> </ul> </li> <li><a href="#22-caja-de-herramientas-para-desarrollar-de-aplicaciones-web" id="markdown-toc-22-caja-de-herramientas-para-desarrollar-de-aplicaciones-web">2.2. Caja de herramientas para desarrollar de aplicaciones web</a> <ul> <li><a href="#221-html" id="markdown-toc-221-html">2.2.1. HTML</a></li> <li><a href="#223-css" id="markdown-toc-223-css">2.2.3. CSS</a></li> <li><a href="#224-javascript" id="markdown-toc-224-javascript">2.2.4. Javascript</a></li> <li><a href="#225-php" id="markdown-toc-225-php">2.2.5. PHP</a></li> <li><a href="#226-mariadb" id="markdown-toc-226-mariadb">2.2.6. MariaDB</a></li> </ul> </li> <li><a href="#23-la-sintaxis-de-php" id="markdown-toc-23-la-sintaxis-de-php">2.3. La sintaxis de PHP</a> <ul> <li><a href="#231-cómo-embeber-php-dentro-de-html" id="markdown-toc-231-cómo-embeber-php-dentro-de-html">2.3.1. Cómo embeber PHP dentro de HTML</a></li> <li><a href="#232-comentarios" id="markdown-toc-232-comentarios">2.3.2. Comentarios</a></li> <li><a href="#233-operadores" id="markdown-toc-233-operadores">2.3.3. Operadores</a></li> <li><a href="#234-variables" id="markdown-toc-234-variables">2.3.4. Variables</a></li> <li><a href="#235-arrays" id="markdown-toc-235-arrays">2.3.5. Arrays</a></li> <li><a href="#236-estructuras-de-control" id="markdown-toc-236-estructuras-de-control">2.3.6. Estructuras de control</a></li> <li><a href="#237-funciones-y-procedimientos" id="markdown-toc-237-funciones-y-procedimientos">2.3.7. Funciones y procedimientos</a></li> <li><a href="#238-clases-y-objetos-solo-en-php5-y-php7" id="markdown-toc-238-clases-y-objetos-solo-en-php5-y-php7">2.3.8. Clases y objetos (¡solo en PHP5 y PHP7!)</a></li> <li><a href="#239-salida-de-datos" id="markdown-toc-239-salida-de-datos">2.3.9. Salida de datos</a></li> <li><a href="#2310-paso-de-parámetros-por-la-url" id="markdown-toc-2310-paso-de-parámetros-por-la-url">2.3.10. Paso de parámetros por la URL</a></li> <li><a href="#2311-entrada-de-datos-a-través-de-formulario-1" id="markdown-toc-2311-entrada-de-datos-a-través-de-formulario-1">2.3.11. Entrada de datos a través de formulario (1)</a></li> </ul> </li> <li><a href="#24-interacción-entre-mariadb-y-php" id="markdown-toc-24-interacción-entre-mariadb-y-php">2.4. Interacción entre MariaDB y PHP</a> <ul> <li><a href="#241-acceso-a-mysql-con-php4" id="markdown-toc-241-acceso-a-mysql-con-php4">2.4.1. Acceso a MySQL con PHP4</a></li> <li><a href="#242-acceso-a-mysql-con-php5" id="markdown-toc-242-acceso-a-mysql-con-php5">2.4.2. Acceso a MySQL con PHP5+</a></li> </ul> </li> <li><a href="#25-ejemplos-de-uso-de-php" id="markdown-toc-25-ejemplos-de-uso-de-php">2.5. Ejemplos de uso de PHP</a></li> <li><a href="#algunos-ejercicios-avanzados-de-php" id="markdown-toc-algunos-ejercicios-avanzados-de-php">Algunos ejercicios avanzados de PHP</a></li> </ul> </details> <h2 id="21-programación-cliente-servidor"> <a href="#21-programación-cliente-servidor" class="anchor-heading" aria-labelledby="21-programación-cliente-servidor"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.1. Programación cliente-servidor </h2> <p>En los primeros tiempos de Internet, no se ejecutaban programas en el servidor. Solo se pedían páginas estáticas más o menos elaboradas que había sido grabadas en el servidor por un administrador de sistemas. A esto se le denomina web 1.0.</p> <p>A alguien se le ocurrió la idea de que los propios visitantes podrían también crear contenido. Ese contenido se guardaría en el servidor (en archivos o en una base de datos) y posteriormente podría recuperarse para generar con él una web dinámica, que no existía previamente y que nadie, en realidad, ha tecleado.</p> <p>Esa web dinámica estaría generada por un programa ejecutado en el servidor, un programa cuya salida sería HTML válido, comprensible por el navegador que la reciba. A esto se le denomina web 2.0 y supuso una revolución tan grande como el propio nacimiento de Internet.</p> <h3 id="211-un-poco-de-jerga-informática"> <a href="#211-un-poco-de-jerga-informática" class="anchor-heading" aria-labelledby="211-un-poco-de-jerga-informática"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.1.1. Un poco de jerga informática </h3> <p>Antes de continuar, tienes que asegurarte de que comprendes bien el significado de algunos términos:</p> <ul> <li>Un <strong>servidor</strong> es un programa que se ejecuta en una máquina conectada a una red y que permanece dormido hasta que una petición procedente de la red lo despierta. Entonces, el programa hace algo (consulta datos, elabora un cálculo, lo que sea) y devuelve su resultado por la red.</li> <li>Por extensión, un servidor también es cualquier ordenador donde se ejecute un programa servidor. Es decir, usamos la misma palabra para referirnos a un programa y al ordenador donde se ejecuta ese programa. Mala idea, ya lo sé, pero es lo que hay.</li> <li>El <strong>cliente</strong> es el programa que envía esas peticiones al programa servidor para despertarlo. También es el programa que recoge el resultado devuelto por el servidor.</li> <li>Por extensión, la máquina donde se ejecuta un programa cliente también se llama cliente.</li> </ul> <p>Pues bien, en programación web, nuestro cliente es el <strong>navegador web</strong> (también llamado cliente web). Cualquier navegador del universo conocido entra en esta categoría (excepto, tal vez, Internet Explorer).</p> <p>Y un servidor es cualquier máquina de la red donde se esté ejecutando un programa servidor web como Apache, Nginx, Tomcat, IIS y otros cuando viejos amigos que irás conociendo a lo largo de este curso.</p> <h3 id="212-una-petición-web-en-la-época-10"> <a href="#212-una-petición-web-en-la-época-10" class="anchor-heading" aria-labelledby="212-una-petición-web-en-la-época-10"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.1.2. Una petición web en la época 1.0 </h3> <p>Ahora que tienes claro qué es un servidor y un cliente web, puedes comprender el siguiente esquema.</p> <p>En él, se ilustra lo que ocurre cuando un cliente web (recuerda: tu navegador) envía al servidor la peiticón de una <strong>página estática</strong>.</p> <p>El servidor, en este caso, se limita a enviar al cliente el documento HTML tal cual está almacenado en su disco duro, sin cambiar una sola coma.</p> <p><img src="/assets/images/02-servicio-www-1.jpg" alt="Ejemplo de servicio www" /></p> <h3 id="213-una-petición-web-en-la-época-20"> <a href="#213-una-petición-web-en-la-época-20" class="anchor-heading" aria-labelledby="213-una-petición-web-en-la-época-20"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.1.3. Una petición web en la época 2.0 </h3> <p>Con la web 2.0 la cosa cambia bastante porque aparecen las <strong>páginas dinámicas</strong>, aunque tendrás que fijarte bien en el esquema para apreciar la diferencia, ¿verdad?</p> <p>Quédate con lo importante: en este esquema, el cliente web no pide un documento HTML, sino <em>un programa</em>, que puede estar escrito en PHP o algún otro lenguaje, eso es lo de menos.</p> <p>Ese programa se ejecuta en el servidor, y <em>el resultado de esa ejecución</em> es lo que recibe el cliente, <em>no el programa en sí</em>.</p> <p><img src="/assets/images/02-servicio-www-2.jpg" alt="Ejemplo de servicio www" /></p> <p>Así es como funcionan las aplicaciones web.</p> <h2 id="22-caja-de-herramientas-para-desarrollar-de-aplicaciones-web"> <a href="#22-caja-de-herramientas-para-desarrollar-de-aplicaciones-web" class="anchor-heading" aria-labelledby="22-caja-de-herramientas-para-desarrollar-de-aplicaciones-web"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2. Caja de herramientas para desarrollar de aplicaciones web </h2> <p>Para desarrollar apliaciones web necesitamos una caja de herramientas bastante completa. Algunas herramientas son fundamentales, como el martillo o el destornillador de una caja de herramientas convencional. Otras, en cambio, son optativas y dependerán del trabajo que vayamos a realizar y de nuestras propias preferencias como desarrolladores.</p> <p>En esta sección vamos a hacer un repaso de las herramientas fundamentales, las que no pueden faltar en tu caja de herramientas. Algunas ya las conoces y otras las aprenderemos a manejar a lo largo de este curso. Se trata de:</p> <ul> <li>DHTML (HTML, CSS y Javascript)</li> <li>PHP u otro lenguaje de script de servidor (Python, Ruby, Perl, etc)</li> <li>MySQL / MariaDB u otro SGBD que permita acceso remoto.</li> </ul> <h3 id="221-html"> <a href="#221-html" class="anchor-heading" aria-labelledby="221-html"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2.1. HTML </h3> <p>DHTML (Dynamic HTML) no es un lenguaje como tal, sino que, como probablemente sabes ya, es la conjunción de tres lenguajes:</p> <ul> <li>HTML</li> <li>CSS</li> <li>JavaScript</li> </ul> <p>DHTML y PHP son los lenguajes que nos van a permitir ejecutar programas en el servidor y acceder a sus recursos a través de páginas web, pero existen otras posibles combinaciones como:</p> <ul> <li>DHTML con ASP</li> <li>DHTML con JSP</li> <li>DHTML con Python, Ruby, Perl, etc.</li> </ul> <p>HTML significa “HyperText Markup Language” (Lenguaje de Etiquetas de Hipertexto). Como sin duda sabrás, se trata de un lenguaje para formatear documentos:</p> <ul> <li>Permite definir el tipo de letra, tamaño, formato y color de los textos.</li> <li>Permite insertar imágenes y otro contenido multimedia.</li> <li>Permite crear listas, tablas, enumeraciones…</li> <li>Permite crear enlaces entre secciones del mismo documento, o enlaces con otros documentos (hipertexto)</li> </ul> <p>HTML <strong>NO</strong> es un lenguaje de programación: no permite programar algoritmos. Pero sí permite incrustar otros lenguajes de programación en su interior, aumentando así su potencia.</p> <p>Los trozos de código embebidos dentro de HTML se denominan <strong><em>scripts</em></strong>.</p> <h4 id="brevísima-historia-de-html"> <a href="#brevísima-historia-de-html" class="anchor-heading" aria-labelledby="brevísima-historia-de-html"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Brevísima historia de HTML </h4> <ul> <li>En 1990 se crea HTML (procedente de un lenguaje anterior, SGML) junto con la World Wide Web, para formatear los documentos de la www.</li> <li>Se amplía en sucesivas versiones hasta la 3.0, que no consiguió éxito debido a las limitaciones de los navegadores de la época.</li> <li>Comienza la guerra de navegadores: Microsoft y Netscape sacan sus propios “dialectos” de HTML y destrozan en estándar.</li> <li>A partir de HTML 4 se intenta unir las características de los dos, pero el resultado es demasiado complejo.</li> <li>Se hace evidente que hay que hacer una “limpieza” de HTML <ul> <li>Así surge XHTML, la versión XML de HTML, mucho más estricta y formal, con menos añadidos pero igual de potente.</li> </ul> </li> </ul> <p>Las versiones actuales de HTML son:</p> <ul> <li>HTML 4.01 transicional: HTML clásico, con todos los elementos del HTML antiguo. En la actualidad está obsoleto, pero aún quedan muchas páginas antiguas que lo utilizan.</li> <li>HTML 4.01 estricto: también llamado XHTML, no permite usar los elementos HTML desaprobados, tales como definición de formatos. También se considera obsoleto.</li> <li>HTML5: elimina definitivamente los elementos antiguos del lenguaje e incorpora algunos nuevos para completar la asimilación con XML. Es el estándar actual.</li> <li>La especificación para HTML6 (o HTML Next) está actualmente en desarrollo.</li> </ul> <h3 id="223-css"> <a href="#223-css" class="anchor-heading" aria-labelledby="223-css"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2.3. CSS </h3> <p>CSS significa “Cascade Style Sheet” (Hojas de estilo en cascada).</p> <p>CSS es un lenguaje para la definición de los formatos utilizados en una página web. Sólo permite definir el formato (es decir, el aspecto) de la página, no su contenido.</p> <p>Al definir los formatos en otra parte, se pueden reutilizar a lo largo de una o incluso de varias páginas: si cambiamos la definición CSS del formato, se cambian automáticamente los formatos de todas las páginas que usen esa definición.</p> <p>El objetivo último de CSS es <strong>separar completamente el formato de la página de su contenido</strong>.</p> <p>CSS 2.1 se usaba con HTML 4. CSS3 se usa con HTML5 y se considera el estándar actual. Está soportado universalmente, aunque, como sin duda habrás sufrido en tus carnes, los diferentes navegadores pueden interpretar de forma ligeramente distinta algunas definiciones CSS.</p> <h3 id="224-javascript"> <a href="#224-javascript" class="anchor-heading" aria-labelledby="224-javascript"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2.4. Javascript </h3> <p>JavaScript es un lenguaje interpretado que puede ser incrustado dentro del código HTML de una página web.</p> <p>El código JavaScript puede interactuar y modificar cualquier parte del documento HTML, por lo que dota a las páginas web de dinamismo e interactividad.</p> <p><strong>JavaScript no es Java</strong>, por mucho que su nombre se parezca. También su sintaxis puede recordar un poco a Java en algunas ocasiones. Pero déjame que te lo repita de nuevo: Javascript no es Java.</p> <p>La implementación de JavaScript de cada navegador es distinta, obteniéndose resultados que no siempre son iguales, por desgracia para los desarrolladores. Por ejemplo:</p> <ul> <li>V8 = motor JS de Chrome</li> <li>WebKit = motor JS de Safari</li> <li>Rhino = motor JS de Mozilla Firefox</li> <li>WebKit = motor JS de Microsoft Edge</li> </ul> <h3 id="225-php"> <a href="#225-php" class="anchor-heading" aria-labelledby="225-php"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2.5. PHP </h3> <p>PHP es un acrónimo recursivo. Significa “PHP Hypertext Preprocessor”</p> <p>Sí, así es el sentido del humor de los informáticos. Qué le vamos a hacer.</p> <p>Es un lenguaje de programación de propósito general. Junto con librerías como PHP-Qt o PHP-GTK, puedes programar con él cualquier aplicación de escritorio.</p> <p>Pero, por circunstancias más debidas al azar que a otra cosa, se empezó a usar para desarrollo web al comienzo de la web 2.0, y hoy en día se utiliza casi exclusivamente para ese propósito.</p> <p>Cuando se usa en desarrollo web, PHP aparece embebido dentro de documentos HTML.</p> <h4 id="características-de-php"> <a href="#características-de-php" class="anchor-heading" aria-labelledby="características-de-php"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Características de PHP </h4> <ul> <li>PHP permite conectarse con múltiples bases de datos: MySQL, MariaDB, Oracle, PostgreSQL, SQL Server, DB2, etc. También puede conectar por ODBC.</li> <li>Se parece mucho a otros lenguajes de tercera generación y orientados a objeto (en particular a C/C++ y, por tanto, a Java). Su curva de aprendizaje para los que ya saben programar es muy plana.</li> </ul> <h4 id="brevísima-historia-de-php"> <a href="#brevísima-historia-de-php" class="anchor-heading" aria-labelledby="brevísima-historia-de-php"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Brevísima historia de PHP </h4> <ul> <li>Surge en 1995 como extensión de CGI (otro lenguaje para acceso a funciones del servidor)</li> <li>PHP3 (1998) tuvo un gran éxito comercial.</li> <li>PHP4 (2000) es la versión más extendida (por desgracia): la mayoría de los scripts en PHP que circulan por la red están escritos en esta versión obsoleta.</li> <li>PHP5 (2004) tiene soporte para orientación a objetos y una biblioteca de clases bastante bien diseñada. Por lo tanto, desde esta versión PHP pasa de ser un lenguaje estructurado (3GL) a ser un lenguaje orientado a objetos.</li> <li>PHP6 empezó a desarrollarse en 2007 y se canceló en 2014.</li> <li>PHP7 introdujo novedades menores y estuvo vigente hasta 2020. En el momento de escribi esto (junio de 2021) es la versión dominante en la mayoría de los servidores web.</li> <li>PHP8 es la última versión (8.0.7 en junio de 2021). Las versiones PHP4 y PHP5 se consideran obsoletas e inseguras. Aún existe soporte para PHP7, pero todas las nuevas aplicaciones se deberían escribir pensando en PHP8.</li> </ul> <h4 id="lo-nuevo-en-php-8"> <a href="#lo-nuevo-en-php-8" class="anchor-heading" aria-labelledby="lo-nuevo-en-php-8"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Lo nuevo en PHP 8 </h4> <p>PHP 8 no tiene demasiadas novedades con respecto a PHP 7, como este no las tenía con respecto a PHP 5.</p> <p>Debes tener en cuenta que el mayor salto evolutivo se produjo entre PHP 4 y PHP 5. A partir de ahí, y para principiantes como nosotros, la cosa no ha cambiado demasiado.</p> <p>Algunas de las novedades más destacables de PHP 8 son:</p> <ul> <li>Mejoras importantes de rendimiento, con la aparición de JIT (Just in Time Compiler), un compilador de PHP que trabaja de forma transparente al programador para incrementar la velocidad de ejecución.</li> <li>Mejoras menores en el manejo de las clases y métodos abstractos.</li> <li>Simplificación en la declaración de atributos.</li> <li>Posibilidad de usar arrays con índices negativos.</li> <li>Etc</li> </ul> <h4 id="ventajas-de-php-sobre-otros-lenguajes"> <a href="#ventajas-de-php-sobre-otros-lenguajes" class="anchor-heading" aria-labelledby="ventajas-de-php-sobre-otros-lenguajes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Ventajas de PHP sobre otros lenguajes </h4> <ul> <li>Es un lenguaje libre y abierto.</li> <li>Es muy eficiente.</li> <li>Es ejecutable en (casi) cualquier servidor.</li> <li>Cuenta con una excelente documentación y miles de foros y sitios donde consultar dudas.</li> <li>La curva de aprendizaje es baja si ya sabes programar.</li> <li>Existen mogollón de entornos de desarrollo para PHP, para todos los gustos.</li> <li>Fácil interoperatibilidad con otros sistemas, en particular con bases de datos.</li> <li>Comunidad muuuy grande.</li> <li>Aunque llevan décadas diciendo que es un lenguaje moribundo, lo cierto es que sigue siendo líder del mercado de aplicaciones web.</li> </ul> <h4 id="inconvenientes-de-php"> <a href="#inconvenientes-de-php" class="anchor-heading" aria-labelledby="inconvenientes-de-php"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Inconvenientes de PHP </h4> <ul> <li>Fallos de diseño (corregidos en su mayoría a partir de PHP 5), como: <ul> <li>Los métodos para acceso a bases de datos cambian según el SGBD usado.</li> <li>Nombres de funciones inconsistentes.</li> <li>No es completamente orientado a objetos.</li> <li>Tipado confuso y, a veces, impredecible.</li> </ul> </li> <li>Grandes (e incompatibles) cambios entre versiones.</li> <li>Pérdida lenta pero constante de cuota de mercado.</li> <li>Pésima relación señal/ruido en la web: ¡hay demasiados <em>malos</em> desarrolladores en PHP!</li> </ul> <h3 id="226-mariadb"> <a href="#226-mariadb" class="anchor-heading" aria-labelledby="226-mariadb"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.2.6. MariaDB </h3> <p>Otra de las herramientas básicas de nuestra caja de herramientas es el gestor de bases de datos relacionales (SGBD).</p> <p>MySQL / MariaDB es el SGBD líder del mercado de las aplicaciones web. Nos permitirá conectarnos a la base de datos y ejecutar sentencias SQL de forma remota al visitar una aplicación web.</p> <p>Existen otras posibilidades, desde luego, como:</p> <ul> <li>SQL Server</li> <li>Oracle</li> <li>PostgreSQL</li> <li>SQLite</li> </ul> <p>También está la posibilidad de usar base de datos no relacionales, como MongoDB, Cassandra o Redis. PHP puede conectarse también a estos sistemas, pero la forma de trabajar es diferente que con bases de datos relacionales. Como estas últimas son, de lejos, las predominantes en el mercado, nos centraremos en ellas.</p> <h4 id="características-de-mariadb"> <a href="#características-de-mariadb" class="anchor-heading" aria-labelledby="características-de-mariadb"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Características de MariaDB </h4> <ul> <li>MariaDB es un gestor de bases de datos relacional multiusuario y multiplataforma.</li> <li>Permite mútiples conexiones remotas.</li> <li>Es software libre.</li> <li>Existen librerías para acceder a MariaDB desde muchos lenguajes: C/C++, Java, PHP, Perl, Pascal… Además, hay drivers ODBC.</li> <li>Está muy extendida en aplicaciones web, generalmente en combinación con PHP.</li> <li>Cuenta un interfaz gráfico programado en PHP, llamado PHPMyAdmin, que se ejecuta en el navegador web. Por supuesto, se puede usar cualquier otro cliente compatible con MySQL, como MySQL Workbench.</li> </ul> <h4 id="brevísima-historia-de-mariadb"> <a href="#brevísima-historia-de-mariadb" class="anchor-heading" aria-labelledby="brevísima-historia-de-mariadb"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Brevísima historia de MariaDB </h4> <ul> <li>MySQL surgió como un proyecto OpenSource en Suecia en 1995.</li> <li>El objetivo era lograr un SGBD rápido y fiable que cumpliera con el estándar SQL.</li> <li>Las primeras versiones (que se denominaron mSQL) eran muy ineficientes.</li> <li>La popularización de PHP y su ganancia en eficiencia a partir de la versión 3 la han hecho muy popular en la actualidad.</li> <li>Tras su adquisición por Oracle, se intentó relegar al segmento medio-bajo en el mercado de los SGBD y surgió un fork: MariaDB.</li> <li>Versión más reciente (junio 2021): MariaDB 10.5.10</li> </ul> <h2 id="23-la-sintaxis-de-php"> <a href="#23-la-sintaxis-de-php" class="anchor-heading" aria-labelledby="23-la-sintaxis-de-php"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3. La sintaxis de PHP </h2> <h3 id="231-cómo-embeber-php-dentro-de-html"> <a href="#231-cómo-embeber-php-dentro-de-html" class="anchor-heading" aria-labelledby="231-cómo-embeber-php-dentro-de-html"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.1. Cómo embeber PHP dentro de HTML </h3> <p>El código PHP se escribe incrustado dentro de un documento de texto mediante estas etiquetas:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php .... ?&gt;</span>
</code></pre></div></div> <p>La sintaxis clásica está obsoleta desde PHP 7:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;script </span><span class="na">language= </span><span class="s">"php"</span><span class="nt">&gt;</span> <span class="p">...</span> <span class="nt">&lt;/script&gt;</span>
</code></pre></div></div> <p>Este archivo debe tener extensión .php.</p> <p>El servidor ejecuta el código PHP que encuentre dentro del archivo, mientras que el código HTML es enviado al cliente sin modificar.</p> <h3 id="232-comentarios"> <a href="#232-comentarios" class="anchor-heading" aria-labelledby="232-comentarios"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.2. Comentarios </h3> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Comentario de una línea</span>
<span class="c1">#  Comentario de una línea</span>
<span class="cm">/* Comentario de una o varias líneas */</span>
</code></pre></div></div> <h3 id="233-operadores"> <a href="#233-operadores" class="anchor-heading" aria-labelledby="233-operadores"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.3. Operadores </h3> <ul> <li>Operadores: son iguales que los de C/C++:</li> <li>Asignación: $a = 3;</li> <li>Comparación: ==, &lt;=, &gt;=, !=, &lt;=&gt;, etc.</li> <li>Operadores aritméticos: +, -, *, /, %…</li> <li> <div class="table-wrapper"><table> <tbody> <tr> <td>Operadores lógicos: &amp;&amp;,</td> <td> </td> <td>, !</td> </tr> </tbody> </table></div> </li> </ul> <h3 id="234-variables"> <a href="#234-variables" class="anchor-heading" aria-labelledby="234-variables"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.4. Variables </h3> <p>Las variables de una función/clase/método PHP son siempre <strong>locales</strong>, es decir, sólo están disponibles en esa función/clase/método, salvo que se indique otra cosa.</p> <p>Si se definen variables fuera de una función, serán globales a todo el fichero actual, pero no pueden usarse en el código ubicado en otros ficheros.</p> <p>El <strong>identificador</strong> de variable siempre debe empezar por $. Esta es una peculiaridad de PHP que al principio descoloca un poco.</p> <p>No es necesario declararlas: al inicializarlas queda especificado el tipo. A partir de PHP 7 pueden indicarse los tipos predefinidos (int, float, string…) Ejemplos:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$a</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                  <span class="c1">// Variable entera (PHP 5)</span>
<span class="n">int</span> <span class="nv">$a</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>              <span class="c1">// Variable entera (PHP 7+)</span>
<span class="nv">$media</span> <span class="o">=</span> <span class="mf">52.75</span><span class="p">;</span>          <span class="c1">// Variable real</span>
<span class="nv">$texto</span> <span class="o">=</span> <span class="s2">"Hoy es lunes"</span><span class="p">;</span> <span class="c1">// Variable string</span>
</code></pre></div></div> <p>Cualquier variable puede <strong>cambiarse de tipo</strong> con la función <strong>setType()</strong>:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$a</span> <span class="o">=</span> <span class="s2">"10"</span><span class="p">;</span>                 <span class="c1">// a es una cadena</span>
<span class="nb">setType</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="s2">"integer"</span><span class="p">);</span>    <span class="c1">// a se convierte a entero</span>
</code></pre></div></div> <p>Los <strong>tipos de datos</strong> predefinidos en PHP son:</p> <ul> <li>integer (entero)</li> <li>double (real)</li> <li>bool (booleano)</li> <li>string (cadena)</li> <li>array (pues eso)</li> </ul> <h3 id="235-arrays"> <a href="#235-arrays" class="anchor-heading" aria-labelledby="235-arrays"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.5. Arrays </h3> <p>Los arrays en PHP son colecciones de variables del mismo o de distinto tipo identificadas por un índice. Se parecen más a los ArrayList de Java que a los arrays clásicos propiamente dichos.</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"lunes"</span><span class="p">;</span>
<span class="nv">$a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"martes"</span><span class="p">;</span>
<span class="nv">$a</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"miércoles"</span><span class="p">;</span>
</code></pre></div></div> <p>El índice no tiene por qué ser un número entero: puede ser un String (array asociativo):</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$a</span><span class="p">[</span><span class="s2">"ESP"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"España"</span><span class="p">;</span>
<span class="nv">$a</span><span class="p">[</span><span class="s2">"FRA"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Francia"</span><span class="p">;</span>
<span class="nv">$a</span><span class="p">[</span><span class="s2">"POR"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"Portugal"</span><span class="p">;</span>
</code></pre></div></div> <h3 id="236-estructuras-de-control"> <a href="#236-estructuras-de-control" class="anchor-heading" aria-labelledby="236-estructuras-de-control"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.6. Estructuras de control </h3> <h4 id="condicionales"> <a href="#condicionales" class="anchor-heading" aria-labelledby="condicionales"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Condicionales </h4> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="n">condición</span><span class="p">)</span>
<span class="p">{</span>
<span class="n">acciones</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
<span class="n">acciones</span><span class="o">-</span><span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="bucle-while"> <a href="#bucle-while" class="anchor-heading" aria-labelledby="bucle-while"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Bucle while </h4> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while</span> <span class="p">(</span><span class="n">condición</span><span class="p">)</span>
<span class="p">{</span>
<span class="n">acciones</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="bucle-repeat"> <a href="#bucle-repeat" class="anchor-heading" aria-labelledby="bucle-repeat"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Bucle repeat </h4> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">do</span>
<span class="p">{</span>
<span class="n">acciones</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">while</span> <span class="p">(</span><span class="n">condición</span><span class="p">);</span>
</code></pre></div></div> <h4 id="bucles-for-y-foreach"> <a href="#bucles-for-y-foreach" class="anchor-heading" aria-labelledby="bucles-for-y-foreach"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Bucles for y foreach </h4> <p>El bucle for controlado por contador es idéntico a C/C++ y Java:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="p">(</span><span class="n">inicialización</span><span class="p">;</span> <span class="n">condición</span><span class="p">;</span> <span class="n">incremento</span><span class="p">)</span>
<span class="p">{</span>
<span class="n">acciones</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>Hay una variedad de bucle for muy interesante: el bucle foreach para recorrido de arrays asociativos:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">foreach</span> <span class="p">(</span><span class="nv">$array</span> <span class="k">as</span> <span class="nv">$índice</span><span class="o">=&gt;</span><span class="nv">$var</span><span class="p">)</span>
<span class="p">{</span>
<span class="n">acciones</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>El bucle foreach se repite una vez para cada valor guardado en el array. Ese valor se asigna a la variable $var en cada repetición.</p> <h3 id="237-funciones-y-procedimientos"> <a href="#237-funciones-y-procedimientos" class="anchor-heading" aria-labelledby="237-funciones-y-procedimientos"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.7. Funciones y procedimientos </h3> <p>Los subprogramas (funciones y procedimientos) se escriben en PHP con la misma palabra: function.</p> <ul> <li>Las <strong>funciones</strong> deben devolver un valor en su última línea con return. Si necesitas devolver varios valores, puedes empaquetarlos en un array.</li> <li>Los <strong>procedimientos</strong> no tienen return. Realizan su función y terminan.</li> </ul> <p>Los <strong>parámetros</strong> de la función en PHP siembre se pasan por valor.</p> <p>Por ejemplo:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">function</span> <span class="n">calcular_iva</span><span class="p">(</span><span class="nv">$base</span><span class="p">,</span> <span class="nv">$porcentaje</span><span class="p">)</span>
<span class="p">{</span>
   <span class="nv">$total</span> <span class="o">=</span> <span class="nv">$base</span> <span class="o">*</span> <span class="nv">$porcentaje</span> <span class="o">/</span><span class="mi">100</span><span class="p">;</span>
   <span class="k">return</span> <span class="nv">$total</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <h3 id="238-clases-y-objetos-solo-en-php5-y-php7"> <a href="#238-clases-y-objetos-solo-en-php5-y-php7" class="anchor-heading" aria-labelledby="238-clases-y-objetos-solo-en-php5-y-php7"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.8. Clases y objetos (¡solo en PHP5 y PHP7!) </h3> <p>Las clases, métodos y atributos se declaran de forma muy semejante a C++ y Java:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nc">miClase</span>
<span class="p">{</span>
    <span class="c1">// Declaración de propiedades (atributos)</span>
    <span class="k">public</span> <span class="nv">$var</span> <span class="o">=</span> <span class="s1">'soy una variable de clase'</span><span class="p">;</span>

    <span class="c1">// Método constructor (siempre se llama __construct)</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">__construct</span><span class="p">(</span><span class="nv">$valor</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$var</span> <span class="o">=</span> <span class="nv">$valor</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Declaración de métodos</span>
    <span class="k">public</span> <span class="k">function</span> <span class="n">mostrarVar</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="k">var</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">private</span> <span class="k">function</span> <span class="n">resetVar</span><span class="p">()</span> <span class="p">{</span>
       <span class="nv">$this</span><span class="o">-&gt;</span><span class="k">var</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <p>Para instanciar un objeto de una clase, se usa la palabra new. El constructor puede llevar parámetros o no, como en Java. Por ejemplo:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$miObjeto</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">miClase</span><span class="p">(</span><span class="s1">'Estoy aprendiendo PHP'</span><span class="p">);</span>
<span class="nv">$miObjeto</span><span class="o">-&gt;</span><span class="nf">mostrarVar</span><span class="p">();</span>
</code></pre></div></div> <p>La salida de este programa sería “Estoy aprendiendo PHP”.</p> <h3 id="239-salida-de-datos"> <a href="#239-salida-de-datos" class="anchor-heading" aria-labelledby="239-salida-de-datos"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.9. Salida de datos </h3> <p>PHP puede hacer salidas de datos como cualquier otro lenguaje de programación: puede enviar texto a una impresora, datos a un fichero o puede dibujar ventanas y componentes en un entorno gráfico de usuario.</p> <p>Pero cuando PHP se ejecuta como parte de una aplicación web, nada de eso tiene sentido: esa salida se produciría en el servidor, y nosotros no estamos allí para verla. Nosotros estamos en nuestro cliente (navegador web), pidiendo al servidor que ejecute un programa PHP.</p> <p>Recuerda que, en este contexto, la salida PHP es siempre código HTML válido. Ese código HTML será recibido por tu navegador, interpretado y mostrado en la ventana del navegador.</p> <p>Observa el uso de “echo” para producir una salida HTML desde este pequeño script PHP:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body&gt;</span>
 <span class="cp">&lt;?php 
     echo "Soy un script de PHP y estoy generando 
               código HTML. Para demostrarlo
               voy a escribir &lt;b&gt;esto en negrita&lt;/b&gt;"
  ?&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div> <h3 id="2310-paso-de-parámetros-por-la-url"> <a href="#2310-paso-de-parámetros-por-la-url" class="anchor-heading" aria-labelledby="2310-paso-de-parámetros-por-la-url"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.10. Paso de parámetros por la URL </h3> <p>Las aplicaciones web pueden recibir parámetros a través de la propia URL de invocación del servidor.</p> <p>Imagina que tenemos este link en un documento HTML:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"pagina.php?variable1=valor1&amp;variable2=valor2&amp;etc…"</span><span class="nt">&gt;</span>
</code></pre></div></div> <p>Al hacer clic en él, pediremos al servidor que ejecute el programa cuyo código fuente está en el archivo “pagina.php”, ¿verdad?</p> <p>Pues bien, ese programa “pagina.php” puede acceder a las variables “variable1”, “variable2”, etc.</p> <p>Esto se hace a traves del array global de PHP <strong>$_GET</strong>, que se indexa con el nombre de las variables. Así:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="s2">"La variable 2 vale:"</span><span class="mf">.</span><span class="nv">$_GET</span><span class="p">[</span><span class="s1">'variable2'</span><span class="p">]</span><span class="mf">.</span><span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</code></pre></div></div> <h3 id="2311-entrada-de-datos-a-través-de-formulario-1"> <a href="#2311-entrada-de-datos-a-través-de-formulario-1" class="anchor-heading" aria-labelledby="2311-entrada-de-datos-a-través-de-formulario-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.3.11. Entrada de datos a través de formulario (1) </h3> <p>Como PHP se ejecuta dentro de HTML, sólo puede recibir datos del usuario de la aplicación a través del navegador web.</p> <p>Y sólo hay una forma de introducir datos en una página web: a través de un formulario.</p> <p>Veámoslo con un ejemplo. Supongamos que hemos definido en HTML este sencillo formulario:</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"post"</span> <span class="na">action=</span><span class="s">"destino.php"</span><span class="nt">&gt;</span>
Nombre<span class="nt">&lt;br/&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"nombre"</span><span class="nt">&gt;&lt;br/&gt;</span>
Apellidos<span class="nt">&lt;br&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">name=</span><span class="s">"apellidos"</span><span class="nt">&gt;&lt;br/&gt;</span>
<span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/body&gt;</span>
</code></pre></div></div> <p>Al pulsar el botón “Enviar”, se cargará el script destino.php en el servidor.</p> <p>Ese script recibirá dos variables HTML llamadas nombre y apellido, con el valor que el usuario haya introducido en el formulario.</p> <p>Para acceder a las variables HTML, se usa el array del sistema <strong>$_POST</strong>, indexándolo con el nombre de la variable:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span> 
     <span class="k">echo</span> <span class="s2">"La variable nombre vale"</span><span class="mf">.</span><span class="nv">$_POST</span><span class="p">[</span><span class="s1">'nombre'</span><span class="p">]</span><span class="mf">.</span><span class="s2">"&lt;br&gt;"</span> 
<span class="cp">?&gt;</span>
</code></pre></div></div> <p>Observa que $_POST es una variable semejante a $_GET. Puedes utilizar una u otra según el valor del atributo <em>method</em> de tu formulario HTML.</p> <p>La variable <strong>$_REQUEST</strong> sirve tanto para POST como para GET. <strong>Por eso será la que nosotros usaremos preferentemente en nuestros programas</strong>.</p> <h2 id="24-interacción-entre-mariadb-y-php"> <a href="#24-interacción-entre-mariadb-y-php" class="anchor-heading" aria-labelledby="24-interacción-entre-mariadb-y-php"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.4. Interacción entre MariaDB y PHP </h2> <p>MySQL es un SGBD profesional, por lo que la interacción con él busca ser eficiente y segura, pero no necesariamente fácil.</p> <p>Hay básicamente tres métodos de utilizar MySQL:</p> <ul> <li>A través de la línea de comandos: Iniciamos una sesión en MySQL con:</li> </ul> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ mysql -h servidor -u nombre_usuario -p
</code></pre></div></div> <p>Y luego tenemos a nuestra disposición montones de comandos para hacer cosas con la base de datos, incluyendo cualquier instrucción válida en SQL.</p> <ul> <li> <p>A través de una aplicación con interfaz gráfico como PHPMyAdmin, una aplicación web escrita en PHP que proporciona un interfaz muy cómodo para trabajar con MySQL o MariaDB.</p> </li> <li> <p>A través de un programa escrito en PHP o algún otro lenguaje con posibilidad de acceso a MySQL. Este método de acceso será el que nosotros practicaremos a lo largo del curso. Por ahora, vamos a ver lo fundamental.</p> </li> </ul> <h3 id="241-acceso-a-mysql-con-php4"> <a href="#241-acceso-a-mysql-con-php4" class="anchor-heading" aria-labelledby="241-acceso-a-mysql-con-php4"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.4.1. Acceso a MySQL con PHP4 </h3> <p>El modo en que se accedía a bases de datos en PHP4 era mediante bibliotecas de funciones diferentes para cada SGBD.</p> <p>Este tipo de codificación está obsoleta y se desaconseja su uso. Ya no tiene soporte oficial, por lo que no se resolverán futuros problemas de seguridad o estabilidad.</p> <p><strong>Lo mostramos aquí para que sepáis lo que NO se debe hacer.</strong></p> <p><strong>Encontraréis mucho código de esta naturaleza en la red que DEBE SER EVITADO.</strong></p> <h4 id="acceso-a-mysql-con-php4"> <a href="#acceso-a-mysql-con-php4" class="anchor-heading" aria-labelledby="acceso-a-mysql-con-php4"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Acceso a MySQL con PHP4 </h4> <p>PHP4 utiliza una biblioteca de funciones PHP cuyo nombre empieza por mysql_.</p> <p>Por ejemplo, para insertar un registro en una BD MySQL, se hacía así:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="c1">//Conectamos con MySQL</span>
<span class="nb">mysql_connect</span><span class="p">(</span><span class="s2">"URL"</span><span class="p">,</span><span class="s2">"nombre_usuario"</span><span class="p">,</span><span class="s2">"contraseña"</span><span class="p">);</span>

<span class="c1">//Selección de la base de datos con la que vamos a trabajar</span>
<span class="nb">mysql_select_db</span><span class="p">(</span><span class="s2">"nombre_base_de_datos"</span><span class="p">);</span>

<span class="c1">//Ejecucion de cualquier sentencia SQL válida</span>
<span class="nb">mysql_query</span><span class="p">(</span><span class="s2">"INSERT INTO clientes (nombre,telefono) VALUES ('</span><span class="nv">$nombre</span><span class="s2">','</span><span class="nv">$telefono</span><span class="s2">')"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div> <p>Y para ejecutar consultas (SELECT), se recogía el resultado en un cursor. Observa cómo se hacía en este ejemplo:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="c1">//Nos conectamos con MySQL</span>
<span class="nb">mysql_connect</span><span class="p">(</span><span class="err">“</span><span class="no">URL</span><span class="s2">","</span><span class="n">user</span><span class="s2">","</span><span class="n">password</span><span class="s2">");

//Seleccionamos la base de datos con la que vamos a trabajar
mysql_select_db("</span><span class="n">nombre_base_datos</span><span class="s2">");

//Ejecutamos la consulta SQL
</span><span class="nv">$result</span><span class="s2">=mysql_query("</span><span class="no">SELECT</span> <span class="o">*</span> <span class="no">FROM</span> <span class="nc">Clientes</span><span class="s2">");
?&gt;

... continúa en la pág. siguiente ...

Consultas SQL con PHP4 (2/2)

... viene de la pág. anterior ...

&lt;table align="</span><span class="n">center</span><span class="s2">"&gt;&lt;tr&gt;
&lt;th&gt;Nombre&lt;/th&gt;
&lt;th&gt;Teléfono&lt;/th&gt;&lt;/tr&gt;
&lt;?
//Mostramos los registros
while (</span><span class="nv">$registro</span><span class="s2">=mysql_fetch_array(</span><span class="nv">$result</span><span class="s2">)) {
echo '&lt;tr&gt;&lt;td&gt;'.</span><span class="nv">$registro["nombre"]</span><span class="s2">.'&lt;/td&gt;';
echo '&lt;td&gt;'.</span><span class="nv">$registro["telefono"]</span><span class="s2">.'&lt;/td&gt;&lt;/tr&gt;';
}
mysql_free_result(</span><span class="nv">$result</span><span class="s2">)
?&gt;
&lt;/table&gt;
&lt;/body&gt;
</span></code></pre></div></div> <p><strong>RECUERDA: esta forma de operar con la base de datos está OBSOLETA y DEBE SER EVITADA.</strong> Te la mostramos aquí solo para que sepas reconocerla si te la encuentras por las procelosas aguas de internet.</p> <h3 id="242-acceso-a-mysql-con-php5"> <a href="#242-acceso-a-mysql-con-php5" class="anchor-heading" aria-labelledby="242-acceso-a-mysql-con-php5"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.4.2. Acceso a MySQL con PHP5+ </h3> <p>Desde PHP5, se utiliza una biblioteca de clases para acceder a los diferentes SGBDs.</p> <p>Todos los nuevos desarrollos deberían usar las bibliotecas de clases y prescindir de las viejas librerías de funciones.</p> <p><em>Vuelvo a repetirlo: mucho código de ejemplo de PHP que circula por la red es PHP4 y DEBE SER EVITADO.</em></p> <h4 id="acceso-a-mysql-con-php5"> <a href="#acceso-a-mysql-con-php5" class="anchor-heading" aria-labelledby="acceso-a-mysql-con-php5"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Acceso a MySQL con PHP5+ </h4> <p>Por ejemplo, para insertar un registro en una BD MySQL:</p> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="c1">// Conectamos con el servidor y abrimos la BD.</span>
<span class="nv">$conexdb</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">mysqli</span><span class="p">(</span><span class="s1">'host'</span><span class="p">,</span><span class="s1">'username'</span><span class="p">,</span><span class="s1">'password'</span><span class="p">,</span><span class="s1">'database'</span><span class="p">);</span>

<span class="c1">// Aquí se ejecutaría cualquier sentencia SQL válida.</span>
<span class="c1">// Por ejemplo:</span>
<span class="nv">$conexdb</span><span class="o">-&gt;</span><span class="nf">query</span><span class="p">(</span><span class="s2">"INSERT INTO clientes (nombre,telefono) VALUES ('</span><span class="nv">$nombre</span><span class="s2">','</span><span class="nv">$telefono</span><span class="s2">')"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div> <p>PHP proporciona varios mecanismos para acceder a bases de datos (¡demasiadas formas de hacer lo mismo!):</p> <ul> <li> <p><strong>La extensión mysqli en su forma procedimental.</strong></p> <p>Es idéntica a la de PHP4, pero cambiando la palabra “mysql” por “mysqli”.</p> <p>Por ejemplo, mysql_connect() cambia a mysqli_connect().</p> <p>Esta forma es apta para programadores perezosos y anticuados, que no quieren pasarse a la programación orientada a objetos.</p> </li> <li> <p><strong>La extensión mysqli en su forma orientada a objetos.</strong></p> <p>Es la que nosotros estamos usando y usaremos todo el curso.</p> </li> <li> <p><strong>La extensión PDO.</strong></p> <p>Se trata de una clase genérica que permite acceder a cualquier gestor de bases de datos mediante el mismo conjunto de métodos. En funcionalidad y rendimiento es idéntica a mysqli.</p> </li> </ul> <h4 id="consultas-sql-con-php5"> <a href="#consultas-sql-con-php5" class="anchor-heading" aria-labelledby="consultas-sql-con-php5"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Consultas SQL con PHP5+ </h4> <p>XXX La ejecución de consultas (SELECT) produce la devolución de un conjunto de registros. Esos registros se manejan en PHP con un cursor. Observa cómo se hace en este ejemplo:</p> <body> <?php //Nos conectamos con MySQL $db = new mysqli("URL","user","password", "database"); // Comprobamos que la conexión se ha realizado if($db->connect_error){ die("Error en la conexion : ".$db->connect_error); } //Ejecutamos la consulta SQL $result=$db->query("SELECT * FROM Clientes"); ?> ... continúa en la pág. siguiente ... Consultas SQL con PHP5 y PHP7 (2/2) ... viene de la pág. anterior ... <div class="table-wrapper"><table align="center"><tr> <th>Nombre</th> <th>Teléfono</th></tr> <? //Mostramos los registros while ($registro=$result->fetch_array()) { echo '<tr><td>'.$registro["nombre"].'</td>'; echo '<td>'.$registro["telefono"].'</td></tr>'; } $db->free($result); // Libera memoria usada por cursor $db->close(); // Cierra la conexión con el servidor ?> </table></div> </body> <h2 id="25-ejemplos-de-uso-de-php"> <a href="#25-ejemplos-de-uso-de-php" class="anchor-heading" aria-labelledby="25-ejemplos-de-uso-de-php"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2.5. Ejemplos de uso de PHP </h2> <p>Aviso previo: para hacer todos estos ejercicios debes tener un servidor Apache con soporte para PHP5 o PHP7 en funcionamiento. De momento, si trabajas con Windows o Mac, lo más cómodo es que tengas instalado XAMPP, WAMPP o MAMPP en tu ordenador. Si lo tuyo es Linux, instala Apache2, MySQL (o MariaDB) y phpMyAdmin desde los repositorios oficiales de tu distribución.</p> <p>Ejercicio 0: hola mundo Comprueba que todo lo necesario para programar en PHP (editor, cliente ftp, servidor apache, etc.) funciona correctamente. Para hacerlo, escribe un sencillo script que genere el mensaje “Hola mundo”. Luego prueba a sustituirlo por una llamada a la función phpinfo(), para obtener información sobre la versión de PHP con la que estás trabajando en el servidor. Ejercicio 1: positivo, negativo Diseña un formulario –ejercicio01.html- con un campo de texto en el que puedas escribir números. Al pulsar el botón de enviar debe llamar a un script –ejercicio01.php- que debe decirnos si el número enviado fue positivo, cero o negativo. A la página ejercicio01.php añádele un enlace HTML que permita volver a la página anterior. Ejercicio 2: tabla de multiplicar Diseña un formulario –ejercicio02.html- con un campo de texto en el que puedas escribir números. Al pulsar el botón de enviar debe llamar a un script –ejercicio02.php- que mostrar la tabla de multiplicar del número introducido. A la página ejercicio02.php añádele un enlace HTML que permita volver a la página anterior. Ejercicio 3: tabla de multiplicar en forma de tabla Modifica el ejercicio anterior para que la salida se produzca en una tabla HTML de 5 por 5 casillas. Deben aparecer, por lo tanto, los primeros 25 términos de la tabla de multiplicar. En la cabecera de la tabla coloca un encabezado que ocupe todo el ancho de la misma. Asigna los nombres ejercicio03.html y ejercicio03.php a los archivos. Por ejemplo, si el número introducido es el 3, el resultado debe ser: Tabla de multiplicar del número 3 3 x 1 = 3 3 x 2 = 6 3 x 3 = 9 3 x 4 = 12 3 x 5 = 15 3 x 6 = 18 3 x 7 = 21 3 x 8 = 24 3 x 9 = 27 3 x 10 = 30 3 x 11 = 33 3 x 12 = 36 3 x 13 = 39 3 x 14 = 42 3 x 15 = 45 3 x 16 = 48 3 x 17 = 51 3 x 18 = 54 3 x 19 = 57 3 x 20 = 60 3 x 21 = 63 3 x 22 = 66 3 x 23 = 69 3 x 24 = 72 3 x 25 = 75</p> <p>Ejercicio 4: anagramas Una palabra es un anagrama de otra si contiene las mismas letras colocadas en orden diferente. Por ejemplo, “CAVA” es un anagrama de “VACA”, y viceversa. El ejercicio consiste en escribir un programa en PHP que pida dos palabras y compruebe si la primera es un anagrama de la segunda. Ejercicio 5: juego del número secreto Construyamos ahora un programa PHP para jugar al típico juego del número secreto. El ordenador elegirá un número al azar entre 1 y 100, y luego nos pedirá que lo adivinemos. Si introducimos un número menor o mayor que el número secreto, el programa nos dará una pista (“el número secreto es mayor” o “el número secreto es menor”). Si acertamos, habremos ganado, y el programa nos dirá cuántos intentos hemos necesitado para adivinar el número.</p> <p>Ejercicio 6: función potencia Escribe una función PHP que reciba dos parámetros (A y B) y devuelva el valor de la potencia de A elevado a B (AB). Escribe también un programa PHP que haga uso de esa función para calcular potencias. Ejercicio 7: devolución de arrays Escribe un programa PHP que pida cinco números al usuario y los guarde en un array. Luego debe llamar a una función pasándole el array como parámetro, y la función calculará cuál de los cinco números es el mayor, cuál el menor y cuánto vale la media, devolviendo esos tres valores en otro array. Por último, se mostrarán en la pantalla el mayor, el menor y la media. Ejercicio 8: formularios complejos Crea un formulario (como el de la figura de más abajo) en un archivo ejercicio08.php. Al hacer clic en “Enviar”, debe lanzarse el script ejercicio08_accion.php. Este script debe comprobar que todos los datos del formulario han sido completados. Si no es así, mostrará un mensaje de error y volverá atrás. Luego comprobará si la edad es mayor o igual a 18 años. Si es menor, también mostrará un mensaje y volverá atrás. Si todo es correcto, mostrará los datos presentes del formulario en una tabla, junto con la fecha y la hora actual del sistema (ver segunda imagen) Para hacer este ejercicio necesitarás algunas funciones de fecha y hora de PHP. Puedes consultar la referencia completa del lenguaje en la página oficial de PHP: www.php.net. Las funciones de fecha y hora están detalladas en http://www.php.net/manual/es/ref.datetime.php</p> <h2 id="algunos-ejercicios-avanzados-de-php"> <a href="#algunos-ejercicios-avanzados-de-php" class="anchor-heading" aria-labelledby="algunos-ejercicios-avanzados-de-php"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Algunos ejercicios avanzados de PHP </h2> <p>Ejercicio 1: Simon dice “Simon dice” es un clásico juego de memoria que consiste en componer secuencias de cuatro colores cada vez más largas, y el jugador tiene que recordarlas y reproducirlas. Puedes encontrar muchas versiones de Simon en internet. Nosotros vamos a construir una versión simplificada que muestre secuencias de números (aunque podríamos hacerlo con colores sólo complicándolo un poco). El programa mostrará un número entre 1 y 4 durante un instante, y luego borrará la pantalla y pedirá al usuario que lo repita. Después mostrará dos números aleatorios entre 1 y 4 (por ejemplo, 3 – 1), y luego el usuario los tendrá que repetir, y así hasta que el usuario falle al introducir los números.</p> <p>Ejercicio 2: creación de tablas Crea una base de datos nueva llamada Videoclub en MySQL. Puedes utilizar PHPMyAdmin para ello, aunque también podríamos hacerlo desde un programa PHP. Luego, escribe un programa PHP llamado ejercicio09.php que sirva para crear las siguientes tablas del Videoclub (sólo usaremos tres por ahora). El programa debe informar de si las tablas se crearon correctamente o si ocurrió algún error al crearlas. • Películas (cod_película#, título, género, país, año, distribuidora) • Personas (cod_persona#, nombre, apellidos) • Actúan (cod_película#, cod_persona#) Ejercicio 3: modificación de tablas Escribe un programa PHP que, tras pulsar un botón que debe aparecer en la pantalla, realice en la base de datos del ejercicio anterior los siguientes cambios: • Eliminar el campo “distribuidora” a la tabla Películas. • Crear el campo “país” en la tabla Personas. • Crear las claves ajenas de la tabla Actúan. Es decir, que la tabla quede así: Actúan (cod_película#, cod_persona#) Ejercicio 4: mantenimiento de tablas maestras Crea un programa PHP para mantener la tabla Películas. El programa debe permitir: • Añadir nuevos registros, introduciendo todos los campos de la tabla. • Eliminar registros existentes, introduciendo el código de la película. Ejercicio 5: consultas simples Escribe un programa en PHP que permita buscar a una película cualquiera introduciendo su código. Debe mostrar todos los datos disponibles en la tabla Películas. Ejercicio 6: consultas y actualizaciones Combina los ejercicios 11 y 12 para que el mantenimiento de tablas también incluya la posibilidad de modificar registros existentes. Primero, el usuario podrá buscar una película introduciendo su código, y el programa mostrará los datos correspondientes a ese registro (o un error si no existe). Luego, podrá modificarse cualquier campo del mismo. Ejercicio 7: consultas complejas Escribe un último programa PHP que permita consultar una película por código, por título o por género (en los dos últimos casos, la búsqueda puede producir varios resultados, de los que el usuario debe poder seleccionar el que desee). En la pantalla deben aparecer todos los datos de la película, incluyendo su reparto. Ejercicio 8: biblioteca del instituto La Biblioteca del IES Celia Viñas tiene guardado su fondo de libros en una base de datos con la siguiente estructura ER:</p> <p>Algunas entidades no son evidentes por sí mismas: • Funciones contiene las funciones que puede realizar un autor en un libro (autor principal, traductor, ilustrador, prologuista, etc.) • TiposFondo se refiere a los diferentes tipos de soporte que existen en la biblioteca: libro, DVD, cuadernillo, documentos sueltos, etc. • Aplicaciones contiene las áreas educativas a los que el libro va dirigido: matemáticas, literatura, astronomía, etc. • El atributo “principal” de la relación FondosAutores sirve para indicar cuál de los autores es el principal en una obra colectiva.</p> <p>Las tablas que resultan de ese DER son: Fondos (IdFondo#, Titulo, Subtitulo, LugarEdicion, IdTipoFondo, IdEditorial) Editoriales (IdEditorial#, Editorial) Autores (IdAutor#, Autor) Ejemplares (IdEjemplar#, IdFondo, ISBN, FechaAlta, Sig1, Sig2, Sig3) TiposFondo (IdTipoFondo#, TipoFondo) Fondos_Autores (IdAutor#, IdFondo#, idFuncion#, Principal) Funciones (IdFunción#, Función) Géneros (IdGénero#, Género) Fondos_Géneros (IdFondo#, IdGénero#) Aplicaciones (IdAplicación#, Aplicación) Fondos_Aplicaciones (IdFondo#, IdAplicación#)</p> <p>Se quiere construir un pequeño programa para poder consultar los fondos de la biblioteca desde la página web del instituto. La consulta debe permitir buscar libros por título, autor, editorial, isbn, aplicación y género. El resultado será una lista de libros de los que el usuario podrá seleccionar uno para obtener la ficha completa del mismo (la ficha incuirá toda la información disponible en la BD para ese libro) Después se podrá volver atrás para modificar la búsqueda o para hacer otra búsqueda nueva. En el servidor del aula dispones de una réplica de la BD de la biblioteca para hacer las pruebas.</p> <p>S</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
