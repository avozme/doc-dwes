I"®r<h1 id="8-otras-tecnolog√≠as">8. Otras tecnolog√≠as</h1>

<h2 id="81-common-gateway-interface-cgi">8.1. Common Gateway Interface (CGI)</h2>

<p>CGI es la definici√≥n de la interfaz entre los servidores web y las aplicaciones que se ejecutan en el servidor. Estas aplicaciones pueden estar construidas en cualquier lenguaje como Perl, C, scripting de unix, Python o cualquier otro. CGI s√≥lo define la forma de transferir informaci√≥n en ambos sentidos.</p>

<p>En el diagrama siguiente vemos el esquema general en que se ejecutan programas en el servidor a trav√©s de CGI. Las invocaciones se llevan a cabo a trav√©s del llenado de un formulario con los par√°metros que se env√≠an al programa que corresponda. Por lo tanto, el primer paso es el acceso al formulario en donde se definen los campos, y el programa que se ejecutar√° cuando se env√≠en los datos. El segundo paso es justamente el env√≠o de los datos. El tercer paso es la invocaci√≥n de la ejecuci√≥n del programa referenciado (en el ejemplo, ‚Äúprograma 1‚Äù). Esta invocaci√≥n es hecha por el servidor web, quien le traspasa los datos recibidos del cliente. Los programas CGI generan una salida, t√≠picamente un documento HTML, que ser√° enviado al cliente como paso final (cuarto).</p>

<p>XXX esquema</p>

<p>Ventajas e inconvenientes de CGI
El interfaz CGI permite que cualquier programa ejecutable en el servidor pueda usarse para generaci√≥n din√°mica de p√°ginas web. Por eso fue la primera alternativa utilizada para este tipo de p√°ginas. Adem√°s, est√° disponible en muchos servicios de hosting web y es relativamente f√°cil de configurar.
Sin embargo, tiene un serio problema de rendimiento: cada vez que se env√≠an los datos de un formulario se crea un nuevo proceso en el servidor para ejecutar el programa en cuesti√≥n, quien genera una respuesta que se env√≠a a trav√©s del servidor HTTP al browser, luego de lo cual se elimina el proceso creado. Esta creaci√≥n de procesos implica una carga importante para el servidor, por lo cual esta modalidad de generaci√≥n de contenido din√°mico no es muy escalable.
Existen algunas alternativas para solucionar este problema, como mantener un s√≥lo proceso CGI en memoria que se encargar√° de procesar todas las peticiones (t√©cnica conocida como FastCGI), pero resulta m√°s complejo de configurar y operar, e implica algunos problemas de seguridad.</p>

<p>Variables de entorno CGI 
La comunicaci√≥n desde el browser al servidor con los datos del formulario se puede hacer en dos modalidades, a trav√©s de variables de entorno (GET) o a trav√©s de la l√≠nea de comando (POST). Estos datos est√°n disponibles en la variable QUERY_STRING en los env√≠os con GET y en la entrada est√°ndar en los env√≠os con POST. Adicionalmente existe un conjunto de variables de entorno que existen en ambas modalidades:
    ‚Ä¢ SERVER_SOFTWARE¬†¬†¬† Devuelve el nombre y la versi√≥n del software del servidor de informaci√≥n que contesta la petici√≥n de usuario (y ejecuta el programa cgi).¬†
    ‚Ä¢ SERVER_NAME¬†¬†¬† Devuelve nombre de host del servidor, el alias DNS, o la direcci√≥n IP como aparecer√≠a en las URL autoreferenciadas.
    ‚Ä¢ GATEWAY_INTERFACE¬†¬†¬† Devuelve la revisi√≥n de la especificaci√≥n CGI con que el servidor puede trabajar. Formato: CGI/revisi√≥n.
    ‚Ä¢ SERVER_PROTOCOL¬†¬†¬† Da el nombre y revisi√≥n del protocolo de informaci√≥n con el que la petici√≥n de usuario viene. Formato: protocolo/revisi√≥n.¬†
    ‚Ä¢ SERVER_PORT¬†¬†¬†¬†¬†¬†¬†¬† Devuelve el n√∫mero de puerto por el cual fue enviada la petici√≥n.¬†
    ‚Ä¢ REQUEST_METHOD¬†¬†¬† Devuelve el m√©todo por el cual la petici√≥n fue enviada. Para HTTP ser√°n ‚ÄúGET‚Äù, ‚ÄúHEAD‚Äù, ‚ÄúPOST‚Äù, etc
    ‚Ä¢ PATH_INFO¬†¬†¬†¬†¬†¬†¬† La informaci√≥n extra sobre el path, tal como es dada por el cliente. En otras palabras, podemos acceder a los scripts por su pathname virtual, seguido de alguna informaci√≥n extra. Esa informaci√≥n extra es enviada como PATH_INFO. La informaci√≥n ser√° decodificada por el servidor si viene de una URL antes de pasarla al script CGI.
    ‚Ä¢ PATH_TRANSLATED¬†¬†¬† El servidor proporciona una versi√≥n traducida del PATH_INFO, que transforma el path virtual al f√≠sico.
    ‚Ä¢ SCRIPT_NAME¬†¬†¬† Path virtual al script que va a ejecutar, usado para autoreferenciar URL.
    ‚Ä¢ QUERY_STRING¬†¬†¬† La informaci√≥n que sigue al signo ‚Äò?‚Äô en la URL que referencia al script. Es la informaci√≥n de la pregunta. No deber√° ser decodificada de ning√∫n modo. Esta variable ser√° activada cuando hay una petici√≥n de informaci√≥n, sin hacer caso de la decodificaci√≥n de la l√≠nea de comandos.¬†
    ‚Ä¢ REMOTE_HOST¬†¬†¬† El nombre de host que realiza la petici√≥n. Si el servidor no posee esta informaci√≥n activar√° REMOTE_ADDR y dejar√° esta desactivada.
    ‚Ä¢ REMOTE_ADDR¬†¬†¬† La direcci√≥n IP del host remoto que realiza la petici√≥n.¬†
    ‚Ä¢ AUTH_TYPE¬†¬†¬† Si el servidor soporta autentificaci√≥n de usuario , y el script est√° protegido, esta es el m√©todo de autentificaci√≥n espec√≠fico del protocolo para validar el usuario.¬†
    ‚Ä¢ REMOTE_USER¬†¬†¬† Si el servidor soporta autentificaci√≥n de usuario , y el script est√° protegido, este ser√° el nombre de usuario con el que se ha autentificado.¬†
    ‚Ä¢ REMOTE_IDENT¬†¬†¬† Si el servidor HTTP soporta autentificaci√≥n RFC 931 , entonces est√° variable se activar√° con el nombre del usuario remoto obtenido por el servidor. Esta varible solo se utilizar√° durante el login.¬†
    ‚Ä¢ CONTENT_TYPE¬†¬†¬† Para peticiones que tienen informaci√≥n a√±adida, como HTTP POST y PUT, este ser√° el tipo de datos contenido.¬†
    ‚Ä¢ CONTENT_LENGTH¬†¬†¬† La longitud del contenido tal como es dado por el cliente.
La forma de acceder a estas variables, l√≥gicamente, depender√° del lenguaje que estemos usando. Cada lenguaje proporcionar√° sus propias librer√≠as para hacer uso de CGI y facilitar el desarrollo de aplicaciones CGI.</p>

<p>Respuesta al cliente
La respuesta se env√≠a a trav√©s de la salida estandar y puede ser cualquier cosa comprensible por el navegador web. Para el caso de texto HTML (que es lo m√°s habitual), se debe comenzar enviando el string:
Content-Type: text/html
‚Ä¶seguido de una l√≠nea en blanco. Detr√°s del texto ‚ÄúContent-Type:‚Äù puede colocarse cualquier tipo MIME reconocible por el navegador.</p>

<h2 id="82-perl">8.2. Perl</h2>

<h3 id="821-caracter√≠sticas-del-lenguaje-perl">8.2.1. Caracter√≠sticas del lenguaje Perl</h3>

<p>Fecha de aparici√≥n: 1987
√öltima revisi√≥n: 5.30.1 (nov 2019)
Perspectivas: 
Uso decreciente. 
Apto para tareas peque√±as y r√°pidas. 
Cuenta con desarrolladores muy fieles y experimentados. Documentaci√≥n muy extensa.
Soporte amplio en cualquier servidor.</p>

<p>Filosof√≠a
Versi√≥n mejorada del shell scripting de Unix.
Pensado para procesamiento r√°pido de archivos de texto y automatizaci√≥n de tareas de administraci√≥n del sistema.
Favorece la programaci√≥n √°gil, r√°pida y sucia de scripts. 
√ânfasis en las expresiones regulares.
Multiparadigma.
En combinaci√≥n con CGI, se populariz√≥ para aplicaciones web antes de la aparici√≥n de PHP.</p>

<h3 id="822-configuraci√≥n-necesaria-en-el-servidor">8.2.2. Configuraci√≥n necesaria en el servidor</h3>

<p>Instalar el int√©rprete Perl (usr/bin/perl).
Activar los m√≥dulos perl y/o cgi de Apache y configurar el handler para CGI.
Se puede ejecutar el int√©rprete Perl de forma nativa en Apache, o bien hacerlo a trav√©s de CGI.
Lo primero es m√°s dif√≠cil de configurar y raramente se encuentra en hostings web compartidos.
Instalar m√≥dulos Perl adicionales para acceso a bases de datos, etc.</p>

<h3 id="823-sintaxis-b√°sica-de-perl">8.2.3. Sintaxis b√°sica de Perl</h3>

<p>Las variables no se declaran, tienen tipado din√°mico y son globales por defecto.
$var = valor;
print ‚ÄúLa variable var vale $variable‚Äù;</p>

<p>Algunos operadores:
Comparaci√≥n: lt, gt, le, ge, eq, ne‚Ä¶ 
Asignaci√≥n: =</p>

<p>Algunas estructuras de control
while (condicion) {
  Acciones
}</p>

<p>if (condicion) {
  Acciones-1
}
else {
  Acciones-2
}</p>

<p>Entrada / salida</p>

<h1 id="entrada-de-datos-est√°ndar">Entrada de datos est√°ndar:</h1>
<p>chop ( $variable = <STDIN> );</STDIN></p>

<h1 id="lectura-de-datos-desde-un-formulario-html">Lectura de datos desde un formulario HTML:</h1>
<p>use CGI;
my $cgi = CGI-&gt;new;
my $username = $cgi-&gt;param(‚Äúusername‚Äù);</p>

<h1 id="salida">Salida:</h1>
<p>print ‚Äúcadena $variable cadena‚Ä¶‚Äù;</p>

<p>Subprogramas</p>
<h1 id="comentarios">Comentarios</h1>
<p>Sub nombre-rutina (argumentos) {
   Acciones
}</p>

<p>Bibliotecas
use biblioteca</p>

<h3 id="824-ejemplo-1-en-perl-hola-mundo">8.2.4. Ejemplo 1 en Perl: Hola mundo</h3>

<p>#!/usr/bin/perl
print ‚ÄúContent-type: text/html\n\n‚Äù;
print ‚Äú&lt;html&gt;<title>Hola mundo</title>&lt;body&gt;‚Äù;
print ‚ÄúHola, mundo‚Äù;
print ‚Äú&lt;/body&gt;&lt;/html&gt;‚Äù;</p>

<h3 id="825-ejemplo-2-en-perl-login-con-comprobaci√≥n-de-email-por-ajax">8.2.5. Ejemplo 2 en Perl: login con comprobaci√≥n de email por Ajax</h3>

<p>Formulario HTML</p>

<form id="loginForm" name="loginForm" method="post" action="">
  <fieldset>
    <legend>Enter information</legend>
    <p>
      <label for="username">Username</label>
      <br />
      <input type="text" id="username" name="username" class="text" size="20" />
    </p>
    <p>
      <label for="password">Password</label>
      <br />
      <input type="password" id="password" name="password" class="text" size="20" />
    </p>
    <p>
      <button type="submit" class="button positive">
       <img alt="ok" src="http://www.blueprintcss.org/blueprint/plugins/buttons/icons/tick.png" /> 
       Login
      </button>
    </p>
  </fieldset>
</form>

<p>Script AJAX/jQuery</p>

<p>$(document).ready(function(){
  $(‚Äúform#loginForm‚Äù).submit(function() { // loginForm is submitted
    var username = $(‚Äò#username‚Äô).attr(‚Äòvalue‚Äô); // get username
    var password = $(‚Äò#password‚Äô).attr(‚Äòvalue‚Äô); // get password</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if (username &amp;&amp; password) { // values are not empty
  $.ajax({
    type: "GET",
    url: "/cgi-bin/login.pl", // URL of the Perl script
    contentType: "application/json; charset=utf-8",
    dataType: "json",
    // send username and password as parameters to the Perl script
    data: "username=" + username + "&amp;password=" + password,
    // script call was *not* successful
    error: function(XMLHttpRequest, textStatus, errorThrown) { 
      $('div#loginResult').text("responseText: " + XMLHttpRequest.responseText 
        + ", textStatus: " + textStatus 
        + ", errorThrown: " + errorThrown);
      $('div#loginResult').addClass("error");
    }, // error 
    // script call was successful 
    // data contains the JSON values returned by the Perl script 
    success: function(data){
      if (data.error) { // script returned error
        $('div#loginResult').text("data.error: " + data.error);
        $('div#loginResult').addClass("error");
      } // if
      else { // login was successful
        $('form#loginForm').hide();
        $('div#loginResult').text("data.success: " + data.success 
          + ", data.userid: " + data.userid);
        $('div#loginResult').addClass("success");
      } //else
    } // success
  }); // ajax
} // if
else {
  $('div#loginResult').text("enter username and password");
  $('div#loginResult').addClass("error");
} // else
$('div#loginResult').fadeIn();
return false;   }); });
</code></pre></div></div>

<p>Script Perl en el lado del servidor (login.pl)</p>

<p>#!/usr/bin/perl -T
use CGI;
use DBI;
use strict;
use warnings;</p>

<h1 id="read-the-cgi-params">read the CGI params</h1>
<p>my $cgi = CGI-&gt;new;
my $username = $cgi-&gt;param(‚Äúusername‚Äù);
my $password = $cgi-&gt;param(‚Äúpassword‚Äù);</p>

<h1 id="connect-to-the-database">connect to the database</h1>
<p>my $dbh = DBI-&gt;connect(‚ÄúDBI:mysql:database=mydb;host=localhost;port=2009‚Äù,<br />
  ‚Äúmydbusername‚Äù, ‚Äúmydbpassword‚Äù) 
  or die $DBI::errstr;</p>

<h1 id="check-the-username-and-password-in-the-database">check the username and password in the database</h1>
<p>my $statement = qq{SELECT id FROM users WHERE username=? and password=?};
my $sth = $dbh-&gt;prepare($statement)
  or die $dbh-&gt;errstr;
$sth-&gt;execute($username, $password)
  or die $sth-&gt;errstr;
my ($userID) = $sth-&gt;fetchrow_array;</p>

<h1 id="create-a-json-string-according-to-the-database-result">create a JSON string according to the database result</h1>
<p>my $json = ($userID) ? 
  qqsuccess : 
  qqerror;</p>

<h1 id="return-json-string">return JSON string</h1>
<p>print $cgi-&gt;header(-type =&gt; ‚Äúapplication/json‚Äù, -charset =&gt; ‚Äúutf-8‚Äù);
print $json;</p>

<h2 id="83-python">8.3. Python</h2>

<h3 id="831-caracter√≠sticas-del-lenguaje-python">8.3.1. Caracter√≠sticas del lenguaje Python</h3>
<p>Fecha de aparici√≥n: 1991
√öltima revisi√≥n: 3.8.1 (dic 2019)
Perspectivas: 
Uso creciente. 
Es el sustituto natural de Perl para el desarrollo r√°pido de scripts. 
Tambi√©n usado en grandes proyectos como alternativa a PHP.
Menos extendido que PHP, pero comunidad con muchos desarrolladores profesionales (mejor relaci√≥n se√±al/ruido)
Muchas bibliotecas de terceros ‚Üí flexibilidad</p>

<p>Filosof√≠a
Es la versi√≥n ‚Äúlimpia‚Äù de Perl. Pensado para escribir scripts de forma r√°pida y limpia.
√ânfasis en la legibilidad: Python es casi pseudoc√≥digo (c√≥digo ‚Äúpythonico‚Äù ‚Üí v. ‚ÄúEl Zen de Python‚Äù)
Interpretado. Tipado din√°mico. Fuertemente tipado.
Expresiones regulares heredadas de Perl.
Multiparadigma: imperativo, O.O., funcional.</p>

<h3 id="832-configuraci√≥n-necesaria-en-el-servidor">8.3.2. Configuraci√≥n necesaria en el servidor</h3>

<p>Instalar el int√©rprete Python (/usr/bin/python). El m√°s extendido es CPhyton.
Activar los m√≥dulos python y/o cgi de Apache y configurar el handler de Apache para CGI.
Python puede funcionar de forma nativa integrado en Apache o a trav√©s de CGI.
Lo primero es m√°s r√°pido, lo segundo m√°s frecuente.
Instalar m√≥dulos adicionales (p. ej: para acceso a bases de datos) si es necesario.</p>

<h3 id="833-sintaxis-b√°sica-de-python">8.3.3. Sintaxis b√°sica de Python</h3>

<p>Las variables no se declaran obligatoriamente, tienen tipado din√°mico y son locales por defecto.
varariable = valor;
print ‚ÄúLa variable var vale %s‚Äù (variable);
Tiene muchos tipos de datos complejos predefinidos: listas, tuplas, diccionarios‚Ä¶
Algunos operadores:
Comparaci√≥n: &lt;, &gt;, &lt;=, &gt;=, ==, != 
Asignaci√≥n: =</p>

<p>Algunas estructuras de control</p>

<p>¬°El c√≥digo debe indentarse OBLIGATO-RIAMENTE!</p>

<p>La indentaci√≥n marca el final del bloque</p>

<p>while condicion:
  Acciones</p>

<p>if condicion:
  Acciones-1
else:
  Acciones-2</p>

<p>Entrada / salida</p>

<h1 id="entrada-de-datos-est√°ndar-1">Entrada de datos est√°ndar:</h1>
<p>variable = raw_input(‚ÄúTexto‚Äù)</p>

<h1 id="lectura-de-datos-de-un-formulario-html">Lectura de datos de un formulario HTML:</h1>
<p>import cgi
form = cgi.FieldStorage()
campo = form[‚Äúcampo‚Äù].value</p>

<h1 id="salida-1">Salida:</h1>
<p>print ‚Äúcadena %s cadena %s ‚Ä¶‚Äù (variable1, variable2)</p>

<p>Subprogramas</p>
<h1 id="comentarios-1">Comentarios</h1>
<p>def nombre-rutina (argumentos):
   Acciones
   [return valor1, varlor2‚Ä¶]</p>

<p>M√≥dulos
import modulo</p>

<h3 id="834-ejemplo-1-en-python-hola-mundo">8.3.4. Ejemplo 1 en Python: Hola mundo</h3>

<p>#!/usr/bin/python
print ‚ÄúContent-type: text/html\n\n‚Äù
print ‚Äú&lt;html&gt;&lt;body&gt;‚Äù
print ‚Äú&lt;h1&gt;Hola, mundo&lt;/h1&gt;‚Äù
print ‚Äú&lt;/body&gt;&lt;/html&gt;‚Äù</p>

<h3 id="835-ejemplo-2-en-python-login-con-comprobaci√≥n-de-email-por-ajax">8.3.5. Ejemplo 2 en Python: login con comprobaci√≥n de email por Ajax</h3>

<p>url: ‚Äú/cgi-bin/login.py‚Äù, // URL of the Python script</p>

<p>Script Python en el lado del servidor (login.py)
#!/usr/bin/python</p>

<p>import cgi
import MySQLdb</p>

<h1 id="read-the-cgi-params-1">read the CGI params</h1>
<p>form = cgi.FieldStorage()
usuario = form[‚Äúusername‚Äù].value;
password = form[‚Äúpassword‚Äù].value;</p>

<p>print ‚ÄúUsuario = ‚Äú, usuario, ‚Äú Pass = ‚Äú, password</p>

<h1 id="check-the-username-and-password-in-the-database-1">check the username and password in the database</h1>
<p>db=MySQLdb.connect(host=‚Äôlocalhost‚Äô,user=‚Äôroot‚Äô,passwd=‚Äôroot‚Äô,db=‚Äôperl‚Äô)
cursor=db.cursor()
num_rows = cursor.execute(‚ÄúSELECT id FROM users WHERE username = ‚Äò%s‚Äô AND password = ‚Äò%s‚Äô;‚Äù, (usuario, password))
userid = cursor.fetchone()</p>

<h1 id="return-json-string-1">return JSON string</h1>
<p>print ‚ÄúContent-type: application/json\n‚Äù
if num_rows == 0:
   print ‚Äú{‚Äòerror‚Äô: ‚ÄòUsuario o contrase√±a incorrectos‚Äô}‚Äù
else:
   print ‚Äú{‚Äòsuccess‚Äô: ‚ÄòEl usuario y la contrase√±a son v√°lidos‚Äô, ‚Äòuserid‚Äô: ‚Äò%d‚Äô‚Äù, userid</p>

<h2 id="84-net">8.4. .NET</h2>

<h3 id="841-caracter√≠sticas-de-net">8.4.1. Caracter√≠sticas de .NET</h3>

<p>Fecha de aparici√≥n: 1996 (ASP) / 2002 (.NET)
√öltima revisi√≥n: 4.7.1 (oct 2017)
Perspectivas: 
Alternativa de Microsoft a JSP para desarrollo de grandes proyectos, donde PHP se queda peque√±o.
Componentes exclusivos en el servidor y altas prestaciones. 
Coste m√°s elevado y problemas de seguridad end√©micos.</p>

<p>Filosof√≠a
Framework de c√≥digo cerrado y propietario.
Tecnolog√≠a multilenguaje. Suele correr con VBS (Visual Basic Script), pero puede hacerlo con otros. 
Puede funcionar como PHP, embebido dentro de HTML.
ASP.Net incluye controles de servidor exclusivos de Microsoft (equivalentes a los ActiveX del lado del cliente)</p>

<h3 id="842-configuraci√≥n-necesaria-en-el-servidor">8.4.2. Configuraci√≥n necesaria en el servidor</h3>

<p>Instalar Microsoft IIS (Internet Information Server). Viene de serie en los Windows Server.
Puede ejecutarse con un m√≥dulo de apache (mono), pero es mucho m√°s lento.
Cada lenguaje tiene su servidor. Si quieres PHP, usa Apache. Si quieres JSP, usa Tomcat. Si quieres ASP, usa IIS.</p>

<h3 id="843-sintaxis-b√°sica-de-net-con-vbasic">8.4.3. Sintaxis b√°sica de .NET con VBasic</h3>

<p>Embeber el c√≥digo ASP (VBS) en HTML</p>
<html>
  <head>...</head>
  <body>
    Este texto se ha generado desde HTML<br />
    &lt;%
      response.write("Y este se ha generado con ASP")
    %
  &lt;/body
&lt;/html&gt;

No es necesario declarar las variables de tipo simple, pero puede hacerse:
Dim i,j,k As Integer

Algunos operadores:
Comparaci√≥n: &lt;, &gt;, &lt;=, &gt;=, =, &lt;&gt; 
Asignaci√≥n: =

Algunas estructuras de control
do while (condicion) 
  Acciones
loop


if (condicion) then
  Acciones-1
else 
  Acciones-2
end if

Entrada / Salida

// Leer datos de un formulario (GET):
variable = request.QueryString("campo");
// Leer datos de un formulario (POST):
variable = request.Form("campo");

// Salida:
response.write ("cadena" + variable + "cadena2"); 

Subrutinas
sub nombre(parametros)
    Acciones;
end sub

Bibliotecas
&lt;% @Import Namespace="Biblioteca" %&gt;



### 8.4.4. Ejemplo 1 en VBasic: Hola mundo

&lt;%
   response.write("<html><body>")
   response.write("<h1>Hola, mundo</h1>")
   response.write("</body></html>")
%&gt;


### 8.4.5. Ejemplo 2 en VBasic: login con comprobaci√≥n de email por Ajax

url: "/ruta/al/script.asp", // URL of the ASP script

Script ASP en el lado del servidor (login.asp)

&lt;% 
# connect to the database
strDSN= "DRIVER={MySQL ODBC 3.51 driver}; Server=localhost; Database=prueba; User=root;  
         Password=xxxx"
con = Server.CreateObject("ADODB.Connection")
con.Open strDSN

# retrieve the form params
name = request.Form("username");
pass = request.Form("password");

# check username and password in the database
rs = con.Execute("SELECT id FROM users WHERE user = '" + name + 
                 "' AND password = '" + pass + "'");

# generate ouput JSON string
if (rs.eof)
   Response.Write "{'error': 'Username or password not valid'}"
else
   Response.Write "{'success': 'Authentication is OK', 'userid': "+ rs("id") + "}");

con.close
%&gt;




## 8.5. JSP

### 8.5.1. Caracter√≠sticas del lenguaje JSP

Fecha de aparici√≥n: 1995
√öltima revisi√≥n: Java 11 (ago 2012)
Perspectivas: 
Usado para proyectos grandes y complejos, donde PHP (y otros lenguajes de scripting) se quedan peque√±os.
El lenguaje de programaci√≥n es Java, es decir, lo conoce cualquier programador. 
Velocidad de ejecuci√≥n superior a la de otros lenguajes semi-interpretados.

Filosof√≠a
Adaptaci√≥n natural de Java al lado del servidor.
Orientado a objetos. Multiplataforma. Fuertemente tipado. 
Puede embeberse dentro de HTML, como PHP.
El c√≥digo Java se precompila en un Servlet y se deja cargado en la memoria del servidor. Las peticiones subsiguientes se ejecutan as√≠ mucho m√°s r√°pidas.

### 8.5.2. Configuraci√≥n necesaria en el servidor

Instalar Tomcat. Es el servidor de referencia para la tecnolog√≠a JSP. 
JSP se puede ejecutar como CGI, pero resulta mucho m√°s lento.

### 8.5.3. Sintaxis b√°sica de JSP

Embeber el c√≥digo JSP en HTML
<html>
  <head>...</head>
  <body>
    Este texto se ha generado desde HTML<br />
    &lt;%
      out.println("Y este se ha generado con JSP");
    %&gt;
  </body>
</html>

Las variables se declaran como en cualquier programa Java:
int var = 5;
out.print("La variable var vale " + var);

Algunos operadores:
Comparaci√≥n: &lt;, &gt;, &lt;=, &gt;=, ==, != 
Asignaci√≥n: =

Algunas estructuras de control
while (condicion) {
  Acciones
}


if (condicion) {
  Acciones-1
}
else {
  Acciones-2
}

Entrada / Salida

// Leer datos de un formulario:
variable = request.getParameter("campo");

// Salida:
out.println ("cadena" + variable + "cadena2"); 

Clases y m√©todos
class mi-clase extends clase-madre {
   public|private|protected tipo nombre(params) {
       Acciones;
   }
}

M√≥dulos
import modulo;

### 8.5.4. Ejemplo 1 en JSP: Hola mundo

&lt;%
   out.println("<html><body>");
   out.println("<h1>Hola, mundo</h1>");
   out.println("</body></html>");
%&gt;

### 8.5.5. Ejemplo 2 en JSP: login con comprobaci√≥n de email por Ajax

url: "/ruta/al/script.jsp", // URL of the JSP script

Script JSP en el lado del servidor (login.jsp)
&lt;% @page import="java.sql.*"

# connect to the database
Connection conex = null;
Statement st = null;
Class.forName("org.gjt.mm.mysql.Driver");
conex = DriverManager.getConnection("jdbc:mysql://servidor", "user", "pass");

# retrieve the form params
name = request.getParameter("username");
pass = request.getParameter("password");

# check username and password in the database
st = conex.createStatement();
ResultSet = st.executeQuery("SELECT id FROM users WHERE user = '" + name + 
            "' AND password = '" + pass + "'");

# generate ouput JSON string
if (st.EOF)
   out.println("{'error': 'Username or password not valid'}");
else
   out.println("{'success': 'Authentication is OK', 'userid':"+ ResultSet.getInt() + "}");
conex.close()
%&gt;




## 8.6. Ruby

### 8.6.1. Caracter√≠sticas del lenguaje Ruby

Fecha de aparici√≥n: 1995
√öltima revisi√≥n: 2.6.1 (feb 2013)
Perspectivas: 
Uso y popularidad creciente.
Base de programadores fiel y especializada.
Excelente relaci√≥n se√±al/ruido.
A√∫n tiene que resolver algunas cosas:
El lenguaje todav√≠a est√° en fase de importantes cambios.
Tiene peor rendimiento que Python o PHP.
Muchos m√≥dulos (gemas) est√°n mal documentados.

Filosof√≠a
Completa ‚Äì y verdaderamente ‚Äì orientado a objetos. Todo es un objeto.
Admite otros paradigmas ocultos bajo los objetos. 
‚ÄúR√°pido y f√°cil‚Äù. Es un lenguaje divertido: de programadores para programadores. 
Curva de aprendizaje larga pero nunca abrupta.
Lenguaje de scripting Unix: expresiones regulares.
En combinaci√≥n con Rails, ideal para desarrollo web MVC r√°pido y basado en prototipos.

### 8.6.2. Configuraci√≥n necesaria en el servidor

Instalar el int√©rprete Ruby en el sistema.
Instalar el m√≥dulo de Ruby (mod_ruby) y/o el m√≥dulo cgi (mod_cgi) para Apache.
Configurar el manejador de Apache para CGI.
Instalar m√≥dulos adicionales para Ruby (como cgi o mysql) si son necesarios.
Como en el caso de Perl o Python, Ruby puede correr de forma nativa en Apache (m√°s r√°pido pero menos frecuente) o como script CGI.

### 8.6.3. ¬øY Ruby on Rails?

¬øY Ruby on Rails?
Rails es un framework para desarrollar aplicaciones web MVC con Ruby.
Apareci√≥ en 2004 y gust√≥ tanto que otros frameworks para otros lenguajes (como CodeIgniter para PHP) copiaron su forma de trabajar:
Abundantes capas de abstracci√≥n para evitar tareas de bajo nivel, como ActiveRecord.
Scaffolding
Integraci√≥n con Ajax mediante jQuery, Prototype o Script.aculo.us
CoC &amp; DRY (Convention over Configuration &amp; Don't Repeat Yourself)

### 8.6.4. Sintaxis b√°sica de Ruby

No es necesario declarar las variables. El tipado es din√°mico (duck)
Todo es un objeto, incluso n√∫meros enteros o valores constantes:
5.isEven?
"cadena".lenght
variable_cadena.chop!
Algunos operadores:
Comparaci√≥n: &lt;, &gt;, &lt;=, &gt;=, =, != 
Asignaci√≥n: =

Algunas estructuras de control
while condicion 
  Acciones
end


if condicion
  Acciones-1
else 
  Acciones-2
end

Sin embargo, el uso de bucles cl√°sicos casi siempre puede sustituirse por iteradores sobre objetos:

variable_array.do_each
   ...
end


num_rows.times do
   ...
end

Entrada / Salida

// Leer datos de un formulario
require "cgi"
cgi = CGI.new
variable = cgi["campo"];

// Salida:
print "cadena", variable, "cadena2", ... 

Clases y m√©todos
class nombre_clase &lt; clase-madre
    def nombre(parametros)
       Acciones;
    end
end

Bibliotecas (gemas)
include "modulo"
require "modulo"

### 8.6.5. Ejemplo 1 en Ruby: Hola mundo

#!/usr/bin/ruby

print "Content-Type: text/html\n\n"
print "<html><body>"
print "<h1>Hola, mundo</h1>"
print "</body></html>"

### 8.6.6. Ejemplo 2 en Ruby: login con comprobaci√≥n de email por Ajax

url: "/cgi-bin/login.rb", // URL of the Ruby script

Script Ruby en el lado del servidor (login.rb)
#!/usr/bin/ruby
require "mysql"
require "cgi"

begin
    # connect to the database
    con = Mysql.new 'server', 'db-user', 'db-password', 'db-name'

    # retrieve the form params
    cgi = CGI.new
    name = cgi["username"]
    pass = cgi["password"]

    # check username and password in the database
    res = con.query("SELECT id FROM users WHERE user = '#{name}' AND password = '#{pass}'")

    # generate ouput JSON string
    print "Content-type: application/json\n\n"
    if res.num_rows == 0
       print %Q!{"error": "Username or password not valid"}!
    else
       row = res.fetch_hash
       print %Q!{"success": "Authentication is OK", "userid": "#{row['id']}" }!
    end
    con.close if con    
end



## 8.7. NodeJS

TODO

### 8.7.1. Caracter√≠sticas del lenguaje NodeJS

TODO

### 8.7.2. Configuraci√≥n necesaria en el servidor

TODO

### 8.7.3. Sintaxis b√°sica de NodeJS

TODO

### 8.7.4. Ejemplo 1 en NodeJS: Hola mundo

TODO

### 8.7.5. Ejemplo 2 en NodeJS: login con comprobaci√≥n de email por Ajax

TODO




## 8.8. Y otras tecnolog√≠as a√∫n m√°s extra√±as

Adem√°s de los lenguajes que hemos visto, existen otras alternativas a PHP para desarrollar aplicaciones web en el lado del servidor.
A continuaci√≥n mostramos una lista con alguna de estas alternativas (no est√°n todas las que son, pero s√≠ son todas las que est√°n) para quien quiera profundizar a√∫n m√°s en el asunto:

### 8.2.1. ColdFusion

ColdFusion es la alternativa de Adobe. ColdFusion es al mismo tiempo un servidor de aplicaciones y un lenguaje de programaci√≥n. Utiliza elementos &lt;...&gt; para insertar su c√≥digo en la p√°gina web y, l√≥gicamente, interacciona de manera √≥ptima con otros productos de Adobe, como Flash. Los archivos tienen extensi√≥n .cfm. Se dise√±√≥ para tener un rendimiento muy elevado (por ejemplo, aprovecha bien la presencia de m√∫ltiples procesadores en el servidor) 

### 8.2.2. WebDNA

WebDNA es un lenguaje especialmente dise√±ado para hacer scripting del lado del servidor (no como PHP, Perl, Python o Ruby, que fueron pensados para otros prop√≥sitos). Especialmente r√°pido en la interacci√≥n con bases de datos. Utiliza etiquetas encerradas entre corchetes [...] para intercalar su c√≥digo con HTML. 

### 8.2.3. Erlang

Se trata de un lenguaje para desarrollo de aplicaciones concurrentes (es decir, en las que varios procesos se ejecutan simult√°neamente, cooperando en la resoluci√≥n de un problema). Fue dise√±ado para sistemas en tiempo real. Se est√° empezando a usar en el lado del servidor cuando las aplicaciones tienen necesidades de procesamiento brutales. 

### 8.2.4. Otros SSJS

(SSJS = Server Side JavaScript): hace mucho tiempo que se especula con la posibilidad de programar scripts del lado del servidor en JavaScript. Al fin y al cabo, JS es un lenguaje dominado por cualquier desarrollador web. No existe por ahora ninguna soluci√≥n estandarizada: a veces, el JS se traduce a Java para ejecutarlo como JSP, otras veces se compila a c√≥digo nativo del servidor (como hace NodeJS), otras veces se instala un plugin en el servidor para ejecutarlo nativamente, o bien se reduce su uso s√≥lo a generar y procesar informaci√≥n JSON, etc. JS en el lado del servidor necesita siempre de librer√≠as adicionales para acceder a los recursos del servidor (p.ej: bases de datos) 
</body></html>
:ET